import { Box, SkipToContent, SkipToContentTarget } from '@codecademy/gamut/src';
import title from '@codecademy/macros/lib/title.macro';
import { PropsTable } from '@codecademy/storybook-addon-variance';
import { Canvas, Meta, Story } from '@storybook/addon-docs/blocks';

<Meta
  title={title}
  component={SkipToContent}
  subcomponents={{ SkipToContentTarget }}
  parameters={{
    subtitle: 'An invisible component to make pages more keyboard accessible.',
    source: 'gamut',
    status: 'current',
  }}
  decorators={[
    (Story) => (
      <Box position="relative" minHeight="200px">
        {Story()}
      </Box>
    ),
  ]}
/>

A hidden-by-default link that becomes visible when the user <kbd>Tab</kbd>s over it (gives it focus).
It takes in the ID of the element it will scroll to and focus ([dev.to article explaining why](https://dev.to/robdodson/managing-focus-64l)) on click (via mouse or keyboard).

This type of control is necessary for pages that have a bunch of stuff keyboard users would have to Tab through to get
to the page's main content (like navigations).

For this element to work properly, there must be a `<SkipToContentTarget />` component with the id passed into this component. The `<SkipToContentTarget />` component by default has a `tabIndex` of -1.

To see it, keep tabbing around on this page or visit [the catalog](https://www.codecademy.com/catalog/language/javascript) and navigate via tab to see it in action.

<Canvas>
  <Story name="SkipToContent">
    {() => <SkipToContent contentId="example" />}
  </Story>
</Canvas>

<PropsTable story="SkipToContent" />
