import { PageHero } from '@codecademy/gamut-labs/src';
import { Background } from '@codecademy/gamut-styles/src';
import title from '@codecademy/macros/lib/title.macro';
import { PropsTable } from '@codecademy/storybook-addon-variance';
import { Canvas, Meta, Story } from '@storybook/addon-docs/blocks';

<Meta
  title={title}
  component={PageHero}
  args={{
    title: 'Welcome to Codecademy',
    desc:
      'feat. [Rob Thomas of Matchbox Twenty](https://en.wikipedia.org/wiki/Rob_Thomas_(musician)) off the multi-platinum album',
    onAnchorClick: () =>
      // eslint-disable-next-line no-console
      console.log('You clicked me an anchor tag inside Markdown!'),
    cta: {
      text: 'Click Me',
      href:
        'https://open.spotify.com/album/10aiDpdFGyfCFEcqpx6XTq?si=xR1nDqVqROK6KYM8J-l_rw',
      onClick: () => {
        // eslint-disable-next-line no-console
        console.log('You could add event tracking here');
      },
    },
    media: {
      type: 'image',
      src:
        'https://cdn.mos.cms.futurecdn.net/wtqqnkYDYi2ifsWZVW2MT4-1200-80.jpg',
      alt: 'beach',
    },
    textLength: 'long',
  }}
  parameters={{
    subtitle: `Hero component for landing pages created in Contentful. All props are optional.`,
    status: 'updating',
  }}
/>

<Canvas>
  <Story name="Page Hero">{(args) => <PageHero {...args} />}</Story>
</Canvas>

<PropsTable story="Page Hero" />

## Video

Change the `media` prop to `type: video` and pass required video props to show a video in the hero. The video will take up 5 columns (and the text 7 columns), and the video will always show on mobile below the text.

<Canvas>
  <Story name="Video">
    {(args) => (
      <PageHero
        {...args}
        media={{
          type: 'video',
          videoUrl: 'https://www.youtube.com/watch?v=dQw4w9WgXcQ',
          videoTitle: 'Workout with Rick Sanchez',
          placeholderImage: 'https://placekitten.com/400/300',
          autoplay: true,
        }}
        title="What's it like to be a Software Engineer"
      />
    )}
  </Story>
</Canvas>

## Short Text

Pass `textLength` as `short` to have a 50/50 split between the text and media (each taking up 6 columns), instead of the default 75/25 (text taking up 9 columns, media taking up 3 columns). Note: this currently does not affect videos.

<Canvas>
  <Story name="Short Text">
    {(args) => <PageHero {...args} textLength="short" />}
  </Story>
</Canvas>

## Regular Button

Pass `buttonType` as `fill` to show a `FillButton` instead of the larger `CTAButton`. Text should always be Call to Action text regardless of button type.

<Canvas>
  <Story name="Regular Button">
    {(args) => <PageHero {...args} cta={{ ...args.cta, buttonType: 'fill' }} />}
  </Story>
</Canvas>

## Without Button

Omit the `cta` prop to not show a button.

<Canvas>
  <Story name="Without Button">
    {(args) => <PageHero {...args} cta={undefined} />}
  </Story>
</Canvas>

## Without Description

Omit the `desc` prop to not show a description.

<Canvas>
  <Story name="Without Description">
    {(args) => <PageHero {...args} desc={undefined} />}
  </Story>
</Canvas>

## Eyebrow

Using the `eyebrow` prop, you can add eyebrow text to the hero. The eyebrow will only display if there is also a `title`.

<Canvas>
  <Story name="Eyebrow">
    {(args) => (
      <PageHero
        {...args}
        eyebrow={{ text: 'Hello there' }}
        textLength="short"
      />
    )}
  </Story>
</Canvas>

## Accent Eyebrow

Set `accent` within `eyebrow` to true to change the eyebrow text color to `#1557FF`. If you are using this component with a page or section background color, please ensure that the contrast meets accessibility guidelines.

<Canvas>
  <Story name="Accent Eyebrow">
    {(args) => (
      <PageHero
        {...args}
        eyebrow={{ text: 'Hello there', accent: true }}
        textLength="short"
      />
    )}
  </Story>
</Canvas>

## Show Image On Mobile

Using the `showImageOnMobile` prop, you can opt to show the image on mobile. The default behavior is to hide the image on mobile. Note: videos are always shown on mobile for accessibility.

<Canvas>
  <Story name="Show Image On Mobile">
    {(args) => <PageHero {...args} showImageOnMobile textLength="short" />}
  </Story>
</Canvas>

## Without Media

Omit the `media` prop to not show any media.

<Canvas>
  <Story name="Without Media">
    {(args) => <PageHero {...args} media={undefined} />}
  </Story>
</Canvas>

## Dark Mode

Automatically adjusts to the current Color Mode. No configuration is needed to meet contrast and design guidelines.

<Canvas>
  <Story name="Dark Mode">
    {(args) => (
      <Background bg="navy" p={16}>
        <PageHero {...args} eyebrow="Hello there" />
      </Background>
    )}
  </Story>
</Canvas>

## PausableImage

When provided a gif a CTA to allow users to play/pause the gif will be displayed for for better accesbility.

<Canvas>
  <Story name="PausableImage">
    {(args) => (
      <PageHero
        {...args}
        media={{
          type: 'image',
          src:
            '//images.ctfassets.net/go6kr6r0ykrq/2vjTCK9DmJ6BOd5NtFxNIG/e5ced4209aef5241cd581841fa6e2511/learn-css_box-model_06.16.gif',
          alt: 'learning envuironment demonstration',
        }}
        eyebrow="Codecademy"
      />
    )}
  </Story>
</Canvas>
