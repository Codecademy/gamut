"use strict";(self.webpackChunkgamut_repo=self.webpackChunkgamut_repo||[]).push([[8867],{"./packages/gamut/src/Menu/Menu.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{W:()=>Menu});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_elements__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/gamut/src/Menu/elements.tsx"),_MenuContext__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/gamut/src/Menu/MenuContext.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js");const Menu=(0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((({children,variant="popover",spacing="normal",role,...rest},ref)=>{const currentContext=(0,_MenuContext__WEBPACK_IMPORTED_MODULE_2__.b)({variant,role,spacing});return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_elements__WEBPACK_IMPORTED_MODULE_3__.B8,{...rest,...currentContext,ref,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_MenuContext__WEBPACK_IMPORTED_MODULE_2__.BV,{value:currentContext,children})})}));try{Menu.displayName="Menu",Menu.__docgenInfo={description:"",displayName:"Menu",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/gamut/src/Menu/Menu.tsx#Menu"]={docgenInfo:Menu.__docgenInfo,name:"Menu",path:"packages/gamut/src/Menu/Menu.tsx#Menu"})}catch(__react_docgen_typescript_loader_error){}},"./packages/gamut/src/Menu/MenuContext.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{BV:()=>MenuProvider,KZ:()=>useMenuContext,b:()=>useMenu});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");const MenuContext=(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)({spacing:"normal",variant:"popover",depth:0,role:void 0});MenuContext.displayName="MenuContext";const MenuProvider=MenuContext.Provider,getTrueProps=({root,role,spacing,variant,contextProps})=>{if(root)return{role,variant,spacing};const{role:contextRole,spacing:contextSpacing,variant:contextVariant}=contextProps;return{role:contextRole,spacing:contextSpacing,variant:contextVariant}};function useMenu({role:roleProp,spacing:spacingProp,variant:variantProp}){const{depth,...contextProps}=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(MenuContext),root=0===depth,nextDepth=depth+1,{role,spacing,variant}=getTrueProps({root,role:roleProp,spacing:spacingProp,variant:variantProp,contextProps});return{root,role:root?role:"menu"===role?"group":void 0,variant,spacing,depth:nextDepth}}function useMenuContext(){return(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(MenuContext)}try{useMenu.displayName="MenuContext",useMenu.__docgenInfo={description:"",displayName:"MenuContext",props:{spacing:{defaultValue:null,description:"",name:"spacing",required:!0,type:{name:'"normal" | "condensed"'}},role:{defaultValue:null,description:"",name:"role",required:!0,type:{name:"AriaRole | undefined"}},variant:{defaultValue:null,description:"",name:"variant",required:!0,type:{name:'"fixed" | "popover"'}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/gamut/src/Menu/MenuContext.tsx#MenuContext"]={docgenInfo:MenuContext.__docgenInfo,name:"MenuContext",path:"packages/gamut/src/Menu/MenuContext.tsx#MenuContext"})}catch(__react_docgen_typescript_loader_error){}},"./packages/gamut/src/Menu/MenuItem.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{D:()=>MenuItem});var lodash_isString__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/lodash/isString.js"),lodash_isString__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(lodash_isString__WEBPACK_IMPORTED_MODULE_0__),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),_Box__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/gamut/src/Box/FlexBox.tsx"),_Typography__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/gamut/src/Typography/Text.tsx"),_elements__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/gamut/src/Menu/elements.tsx"),_MenuContext__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/gamut/src/Menu/MenuContext.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/jsx-runtime.js");const activePropnames={fixed:"active-navlink",popover:"active"},currentItemText={link:"current page",button:"current action",item:"current item"},MenuItem=(0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)((({active,children,disabled,height=1,href,icon:Icon,label,target,width=1,...props},ref)=>{const{variant,role,...rest}=(0,_MenuContext__WEBPACK_IMPORTED_MODULE_3__.KZ)(),tipId=(0,react__WEBPACK_IMPORTED_MODULE_1__.useId)(),isIconOnly=!!Icon&&!children,activeProp=activePropnames[variant],listItemType=((href,onClick)=>href?"link":onClick?"button":"item")(!!href,!!props.onClick),listItemProps={role:"menu"===role?"none":void 0,height,width},ariaLabel=label?"string"==typeof label?label:lodash_isString__WEBPACK_IMPORTED_MODULE_0___default()(label?.info)?label.info:void 0:void 0,computed={...props,height,width,...rest,variant:"link",role:"menu"===role?"menuitem":void 0,[activeProp]:active,"aria-label":isIconOnly?ariaLabel:void 0,"aria-describedby":!isIconOnly&&ariaLabel?tipId:void 0,"aria-disabled":disabled,isDisabled:disabled},content=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment,{children:[Icon&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_Box__WEBPACK_IMPORTED_MODULE_4__.p,{width:"fit-content",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon,{"data-testid":"menuitem-icon",mr:children?12:0,size:"condensed"===rest.spacing?16:24})}),active&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(_Typography__WEBPACK_IMPORTED_MODULE_5__.E,{screenreader:!0,children:[currentItemText[listItemType],","]}),children]});if("link"===listItemType&&!disabled){const linkRef=ref;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_elements__WEBPACK_IMPORTED_MODULE_6__.ck,{...listItemProps,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_elements__WEBPACK_IMPORTED_MODULE_6__.wZ,{label,tipId,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_elements__WEBPACK_IMPORTED_MODULE_6__.Pr,{...computed,href,ref:linkRef,target,children:content})})})}if("button"===listItemType||"link"===listItemType&&disabled){const buttonRef=ref,handleClick=disabled?()=>null:props.onClick;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_elements__WEBPACK_IMPORTED_MODULE_6__.ck,{...listItemProps,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_elements__WEBPACK_IMPORTED_MODULE_6__.wZ,{label,tipId,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_elements__WEBPACK_IMPORTED_MODULE_6__.N0,{...computed,ref:buttonRef,onClick:handleClick,children:content})})})}const liRef=ref;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_elements__WEBPACK_IMPORTED_MODULE_6__.ck,{...computed,ref:liRef,children:content})}));try{MenuItem.displayName="MenuItem",MenuItem.__docgenInfo={description:"",displayName:"MenuItem",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/gamut/src/Menu/MenuItem.tsx#MenuItem"]={docgenInfo:MenuItem.__docgenInfo,name:"MenuItem",path:"packages/gamut/src/Menu/MenuItem.tsx#MenuItem"})}catch(__react_docgen_typescript_loader_error){}},"./packages/gamut/src/Menu/elements.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{B8:()=>List,N0:()=>ListButton,Pr:()=>ListLink,ck:()=>ListItem,wZ:()=>MenuToolTipWrapper});var _emotion_styled_base__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),_codecademy_gamut_styles__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/gamut-styles/src/index.ts"),_codecademy_variance__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/variance/src/index.ts"),lodash_isObject__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/lodash/isObject.js"),lodash_isObject__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(lodash_isObject__WEBPACK_IMPORTED_MODULE_3__),react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react/index.js"),_Box_props__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/gamut/src/Box/props.ts"),_ButtonBase_ButtonBase__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./packages/gamut/src/ButtonBase/ButtonBase.tsx"),_Tip_ToolTip__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./packages/gamut/src/Tip/ToolTip/index.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react/jsx-runtime.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}var MenuItemSelectors=function(MenuItemSelectors){return MenuItemSelectors.OUTLINE="&:after",MenuItemSelectors.OUTLINE_FOCUS_VISIBLE="&:focus-visible:after",MenuItemSelectors}(MenuItemSelectors||{});const listProps=_codecademy_variance__WEBPACK_IMPORTED_MODULE_2__.GV.compose(_codecademy_gamut_styles__WEBPACK_IMPORTED_MODULE_1__.qU.layout,_codecademy_gamut_styles__WEBPACK_IMPORTED_MODULE_1__.qU.typography,_codecademy_gamut_styles__WEBPACK_IMPORTED_MODULE_1__.qU.space,_codecademy_gamut_styles__WEBPACK_IMPORTED_MODULE_1__.qU.positioning,_codecademy_gamut_styles__WEBPACK_IMPORTED_MODULE_1__.qU.border,_codecademy_gamut_styles__WEBPACK_IMPORTED_MODULE_1__.qU.color),StyledList=(0,_emotion_styled_base__WEBPACK_IMPORTED_MODULE_0__.A)("ul",_extends({},{target:"e1dfahz23",label:"StyledList"},(0,_codecademy_gamut_styles__WEBPACK_IMPORTED_MODULE_1__.W8)()))(_codecademy_gamut_styles__WEBPACK_IMPORTED_MODULE_1__.qU.css({listStyle:"none",width:1,bg:"inherit",display:"inline-block",pl:24,WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale"}),_codecademy_gamut_styles__WEBPACK_IMPORTED_MODULE_1__.qU.states({root:{bg:"background",p:0},showBorder:{border:1,borderRadius:"sm"}}),_Box_props__WEBPACK_IMPORTED_MODULE_6__.QO,listProps,""),List=(0,react__WEBPACK_IMPORTED_MODULE_4__.forwardRef)((({context=!0,m=0,root=!0,variant,...rest},ref)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(StyledList,{context,m,ref,root,showBorder:"fixed"!==variant,variant,...rest}))),interactiveVariants=_codecademy_gamut_styles__WEBPACK_IMPORTED_MODULE_1__.qU.variant({base:{display:"flex",alignItems:"center",cursor:"pointer",width:1,zIndex:1,px:24,py:12,position:"relative",transition:(0,_codecademy_gamut_styles__WEBPACK_IMPORTED_MODULE_1__.ab)(["color","background-color","border-color"],"fast","linear"),[_ButtonBase_ButtonBase__WEBPACK_IMPORTED_MODULE_7__.Xz.FOCUS_VISIBLE]:{outline:"none"},[MenuItemSelectors.OUTLINE]:{content:"''",position:"absolute",inset:4,borderRadius:"md",border:2,borderColor:"primary",opacity:0,zIndex:-1},[MenuItemSelectors.OUTLINE_FOCUS_VISIBLE]:{opacity:1}},variants:{select:{[_ButtonBase_ButtonBase__WEBPACK_IMPORTED_MODULE_7__.Xz.DISABLED]:{pointerEvents:"none"},[_ButtonBase_ButtonBase__WEBPACK_IMPORTED_MODULE_7__.Xz.HOVER]:{bg:"background-hover"}},link:{[_ButtonBase_ButtonBase__WEBPACK_IMPORTED_MODULE_7__.Xz.BEFORE]:{bg:"inherit",position:"absolute",display:"inline-block",left:0,width:6},[_ButtonBase_ButtonBase__WEBPACK_IMPORTED_MODULE_7__.Xz.HOVER]:{textColor:"primary"}}}}),activeStates=_codecademy_gamut_styles__WEBPACK_IMPORTED_MODULE_1__.qU.states({selected:{bg:"background-selected"},active:{fontWeight:700},"active-navlink":{fontWeight:700,bg:"background-selected",[_ButtonBase_ButtonBase__WEBPACK_IMPORTED_MODULE_7__.Xz.BEFORE]:{content:"''",bg:"secondary"}},isDisabled:{bg:"inherit",cursor:"not-allowed",fontWeight:400,textColor:"text-disabled",[_ButtonBase_ButtonBase__WEBPACK_IMPORTED_MODULE_7__.Xz.HOVER]:{textColor:"text-disabled",textDecoration:"none"},[_ButtonBase_ButtonBase__WEBPACK_IMPORTED_MODULE_7__.Xz.BEFORE]:{content:"''",bg:"inherit"}}}),sizeVariants=_codecademy_gamut_styles__WEBPACK_IMPORTED_MODULE_1__.qU.variant({prop:"spacing",variants:{condensed:{lineHeight:"title",minHeight:40,py:8,fontSize:14,[_ButtonBase_ButtonBase__WEBPACK_IMPORTED_MODULE_7__.Xz.BEFORE]:{minHeight:40}},normal:{fontSize:16,minHeight:48,[_ButtonBase_ButtonBase__WEBPACK_IMPORTED_MODULE_7__.Xz.BEFORE]:{minHeight:48}}}}),ListItem=(0,_emotion_styled_base__WEBPACK_IMPORTED_MODULE_0__.A)("li",_extends({},{target:"e1dfahz22",label:"ListItem"},(0,_codecademy_gamut_styles__WEBPACK_IMPORTED_MODULE_1__.W8)()))(interactiveVariants,activeStates,sizeVariants,_Box_props__WEBPACK_IMPORTED_MODULE_6__.QO,listProps,""),StyledListLink=(0,_emotion_styled_base__WEBPACK_IMPORTED_MODULE_0__.A)("a",_extends({},{target:"e1dfahz21",label:"StyledListLink"},(0,_codecademy_gamut_styles__WEBPACK_IMPORTED_MODULE_1__.W8)()))(_ButtonBase_ButtonBase__WEBPACK_IMPORTED_MODULE_7__.W5,interactiveVariants,activeStates,sizeVariants,_Box_props__WEBPACK_IMPORTED_MODULE_6__.QO,listProps,""),ListLink=(0,react__WEBPACK_IMPORTED_MODULE_4__.forwardRef)((({zIndex=1,...rest},ref)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(StyledListLink,{ref,zIndex,...rest}))),ListButton=(0,_emotion_styled_base__WEBPACK_IMPORTED_MODULE_0__.A)("button",_extends({},{target:"e1dfahz20",label:"ListButton"},(0,_codecademy_gamut_styles__WEBPACK_IMPORTED_MODULE_1__.W8)()))(_ButtonBase_ButtonBase__WEBPACK_IMPORTED_MODULE_7__.W5,interactiveVariants,activeStates,sizeVariants,_Box_props__WEBPACK_IMPORTED_MODULE_6__.QO,listProps,""),MenuToolTipWrapper=({children,label,tipId})=>{if(!label)return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.Fragment,{children});const defaultTipProps={placement:"floating",id:tipId,inheritDims:!0,shouldRenderAriaTip:!1},wrapperProps=label&&lodash_isObject__WEBPACK_IMPORTED_MODULE_3___default()(label)?{...defaultTipProps,...label}:{info:label,...defaultTipProps};return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_Tip_ToolTip__WEBPACK_IMPORTED_MODULE_8__.w,{...wrapperProps,children})};try{List.displayName="List",List.__docgenInfo={description:"",displayName:"List",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/gamut/src/Menu/elements.tsx#List"]={docgenInfo:List.__docgenInfo,name:"List",path:"packages/gamut/src/Menu/elements.tsx#List"})}catch(__react_docgen_typescript_loader_error){}try{ListItem.displayName="ListItem",ListItem.__docgenInfo={description:"",displayName:"ListItem",props:{as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"ElementType<any, keyof IntrinsicElements>"}},context:{defaultValue:{value:"true"},description:"",name:"context",required:!1,type:{name:"boolean"}},fit:{defaultValue:null,description:"",name:"fit",required:!1,type:{name:"boolean"}},"no-select":{defaultValue:null,description:"",name:"no-select",required:!1,type:{name:"boolean"}},variant:{defaultValue:null,description:"",name:"variant",required:!1,type:{name:'false | "link" | "select"'}},selected:{defaultValue:null,description:"",name:"selected",required:!1,type:{name:"boolean"}},isDisabled:{defaultValue:null,description:"",name:"isDisabled",required:!1,type:{name:"boolean"}},active:{defaultValue:null,description:"",name:"active",required:!1,type:{name:"boolean"}},"active-navlink":{defaultValue:null,description:"",name:"active-navlink",required:!1,type:{name:"boolean"}},spacing:{defaultValue:null,description:"",name:"spacing",required:!1,type:{name:'false | "normal" | "condensed"'}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/gamut/src/Menu/elements.tsx#ListItem"]={docgenInfo:ListItem.__docgenInfo,name:"ListItem",path:"packages/gamut/src/Menu/elements.tsx#ListItem"})}catch(__react_docgen_typescript_loader_error){}try{ListLink.displayName="ListLink",ListLink.__docgenInfo={description:"",displayName:"ListLink",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/gamut/src/Menu/elements.tsx#ListLink"]={docgenInfo:ListLink.__docgenInfo,name:"ListLink",path:"packages/gamut/src/Menu/elements.tsx#ListLink"})}catch(__react_docgen_typescript_loader_error){}try{ListButton.displayName="ListButton",ListButton.__docgenInfo={description:"",displayName:"ListButton",props:{as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"ElementType<any, keyof IntrinsicElements>"}},active:{defaultValue:null,description:"",name:"active",required:!1,type:{name:"boolean"}},navlink:{defaultValue:null,description:"",name:"navlink",required:!1,type:{name:"boolean"}},context:{defaultValue:{value:"true"},description:"",name:"context",required:!1,type:{name:"boolean"}},fit:{defaultValue:null,description:"",name:"fit",required:!1,type:{name:"boolean"}},"no-select":{defaultValue:null,description:"",name:"no-select",required:!1,type:{name:"boolean"}},variant:{defaultValue:null,description:"",name:"variant",required:!1,type:{name:'false | "link" | "select"'}},selected:{defaultValue:null,description:"",name:"selected",required:!1,type:{name:"boolean"}},isDisabled:{defaultValue:null,description:"",name:"isDisabled",required:!1,type:{name:"boolean"}},"active-navlink":{defaultValue:null,description:"",name:"active-navlink",required:!1,type:{name:"boolean"}},spacing:{defaultValue:null,description:"",name:"spacing",required:!1,type:{name:'false | "normal" | "condensed"'}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/gamut/src/Menu/elements.tsx#ListButton"]={docgenInfo:ListButton.__docgenInfo,name:"ListButton",path:"packages/gamut/src/Menu/elements.tsx#ListButton"})}catch(__react_docgen_typescript_loader_error){}try{MenuToolTipWrapper.displayName="MenuToolTipWrapper",MenuToolTipWrapper.__docgenInfo={description:"",displayName:"MenuToolTipWrapper",props:{children:{defaultValue:null,description:"",name:"children",required:!0,type:{name:"unknown"}},label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"unknown"}},tipId:{defaultValue:null,description:"",name:"tipId",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/gamut/src/Menu/elements.tsx#MenuToolTipWrapper"]={docgenInfo:MenuToolTipWrapper.__docgenInfo,name:"MenuToolTipWrapper",path:"packages/gamut/src/Menu/elements.tsx#MenuToolTipWrapper"})}catch(__react_docgen_typescript_loader_error){}},"./packages/gamut/src/PopoverContainer/PopoverContainer.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{d:()=>PopoverContainer});var _emotion_styled_base__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),_codecademy_gamut_styles__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/gamut-styles/src/index.ts"),_codecademy_variance__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/variance/src/index.ts"),react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react/index.js"),react_use__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react-use/esm/useWindowSize.js"),react_use__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/react-use/esm/useWindowScroll.js"),react_use__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/react-use/esm/useIsomorphicLayoutEffect.js"),_BodyPortal__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./packages/gamut/src/BodyPortal/index.tsx"),_FocusTrap__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./packages/gamut/src/FocusTrap/index.tsx"),_hooks__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./packages/gamut/src/PopoverContainer/hooks.ts"),_utils__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./packages/gamut/src/PopoverContainer/utils.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react/jsx-runtime.js");const PopoverContent=(0,_emotion_styled_base__WEBPACK_IMPORTED_MODULE_0__.A)("div",{target:"e1j9hq8r0",label:"PopoverContent"})(_codecademy_variance__WEBPACK_IMPORTED_MODULE_2__.GV.compose(_codecademy_gamut_styles__WEBPACK_IMPORTED_MODULE_1__.qU.positioning,_codecademy_variance__WEBPACK_IMPORTED_MODULE_2__.GV.create({transform:{property:"transform"}})),""),PopoverContainer=({alignment="bottom-left",offset=20,y=0,x=0,invertAxis,inline=!1,isOpen,onRequestClose,targetRef,allowPageInteraction,closeOnViewportExit=!1,...rest})=>{const popoverRef=(0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(null),hasRequestedCloseRef=(0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(!1),{width:winW,height:winH}=(0,react_use__WEBPACK_IMPORTED_MODULE_5__.A)(),{x:winX,y:winY}=(0,react_use__WEBPACK_IMPORTED_MODULE_6__.A)(),[containers,setContainers]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(),[targetRect,setTargetRect]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(),parent=containers?.parent,popoverPosition=(0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)((()=>void 0!==parent?(0,_utils__WEBPACK_IMPORTED_MODULE_7__.E9)({alignment,container:parent,invertAxis,offset,x,y}):{}),[parent,x,y,offset,alignment,invertAxis]);(0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)((()=>{const target=targetRef?.current;target&&setContainers((0,_utils__WEBPACK_IMPORTED_MODULE_7__.dP)(target,inline,{x:winX,y:winY}))}),[targetRef,inline,winW,winH,winX,winY,targetRect]),(0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)((()=>{setTargetRect(targetRef?.current?.getBoundingClientRect())}),[targetRef,isOpen,winW,winH,winX,winY]);const updateTargetPosition=(0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((rect=>{const target=targetRef?.current;if(!target)return;const newRect=rect||target.getBoundingClientRect();setTargetRect(newRect);const currentScrollX=window.pageXOffset||document.documentElement.scrollLeft,currentScrollY=window.pageYOffset||document.documentElement.scrollTop;setContainers((0,_utils__WEBPACK_IMPORTED_MODULE_7__.dP)(target,inline,{x:currentScrollX,y:currentScrollY}))}),[targetRef,inline]);(0,_hooks__WEBPACK_IMPORTED_MODULE_8__.b)(targetRef,updateTargetPosition),(0,_hooks__WEBPACK_IMPORTED_MODULE_8__.y)(targetRef,setTargetRect),(0,react_use__WEBPACK_IMPORTED_MODULE_9__.A)((()=>{closeOnViewportExit&&(containers?.viewport&&(0,_utils__WEBPACK_IMPORTED_MODULE_7__.T2)(containers?.viewport,targetRef?.current)&&!hasRequestedCloseRef.current?(hasRequestedCloseRef.current=!0,onRequestClose?.()):containers?.viewport&&!(0,_utils__WEBPACK_IMPORTED_MODULE_7__.T2)(containers?.viewport,targetRef?.current)&&(hasRequestedCloseRef.current=!1))}),[containers?.viewport,onRequestClose,targetRef,closeOnViewportExit]);const handleClickOutside=(0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((e=>{const target=e.target,targetElement=targetRef.current;targetElement&&(targetElement.contains(target)||popoverRef.current?.contains(target)||onRequestClose?.())}),[onRequestClose,targetRef]),handleGlobalClickOutside=(0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((e=>{const target=e.target,targetElement=targetRef.current;if(!targetElement||!isOpen)return;if(targetElement.contains(target)||popoverRef.current?.contains(target))return;const clickedElement=target;if(clickedElement.closest('[data-floating="overlay"]'))return;const isFloatingElement=clickedElement.closest('[data-floating="popover"]');!isFloatingElement||popoverRef.current?.contains(isFloatingElement),onRequestClose?.()}),[onRequestClose,targetRef,isOpen]);if((0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)((()=>{if(isOpen){const timeoutId=setTimeout((()=>{document.addEventListener("mousedown",handleGlobalClickOutside,!0)}),50);return()=>{clearTimeout(timeoutId),document.removeEventListener("mousedown",handleGlobalClickOutside,!0)}}}),[isOpen,handleGlobalClickOutside]),!isOpen||!targetRef)return null;const content=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_FocusTrap__WEBPACK_IMPORTED_MODULE_10__.s,{allowPageInteraction:inline||allowPageInteraction,onClickOutside:handleClickOutside,onEscapeKey:onRequestClose,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(PopoverContent,{"data-floating":"popover","data-testid":"popover-content-container",position:"absolute",ref:popoverRef,tabIndex:-1,zIndex:inline?5:"initial",...popoverPosition,...rest})});return inline?content:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_BodyPortal__WEBPACK_IMPORTED_MODULE_11__.D,{children:content})};try{PopoverContainer.displayName="PopoverContainer",PopoverContainer.__docgenInfo={description:"",displayName:"PopoverContainer",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},isOpen:{defaultValue:null,description:"Whether the popover is rendered.",name:"isOpen",required:!0,type:{name:"boolean"}},onRequestClose:{defaultValue:null,description:"Called when the Popover requests to be closed,\nthis could be due to clicking outside of the popover, or by clicking the escape key.",name:"onRequestClose",required:!1,type:{name:"(() => void)"}},targetRef:{defaultValue:null,description:"The target element around which the popover will be positioned.",name:"targetRef",required:!0,type:{name:"RefObject<TargetRef>"}},allowPageInteraction:{defaultValue:null,description:"If true, it will allow outside page interaction. Popover container will still close when clicking outside of the popover or hitting the escape key.",name:"allowPageInteraction",required:!1,type:{name:"boolean"}},closeOnViewportExit:{defaultValue:{value:"false"},description:"If true, the popover will automatically close when the target element moves out of viewport.\nDefaults to false.",name:"closeOnViewportExit",required:!1,type:{name:"boolean"}},alignment:{defaultValue:{value:"bottom-left"},description:"Which vertical edge of the source component to align against.",name:"alignment",required:!1,type:{name:"Alignments"}},invertAxis:{defaultValue:null,description:"Align to the inside edge of the target div",name:"invertAxis",required:!1,type:{name:'"x" | "y"'}},inline:{defaultValue:{value:"false"},description:"Whether the popover renders inside the current DOM context or escapes with a portal",name:"inline",required:!1,type:{name:"boolean"}},y:{defaultValue:{value:"0"},description:"Number of pixels to offset the popover vertically from the source component.",name:"y",required:!1,type:{name:"number"}},x:{defaultValue:{value:"0"},description:"Number of pixels to offset the popover horizontally from the source component.",name:"x",required:!1,type:{name:"number"}},offset:{defaultValue:{value:"20"},description:"Offset from center in the direct of the alignment",name:"offset",required:!1,type:{name:"number"}},children:{defaultValue:null,description:"",name:"children",required:!1,type:{name:"ReactNode | ReactNode[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/gamut/src/PopoverContainer/PopoverContainer.tsx#PopoverContainer"]={docgenInfo:PopoverContainer.__docgenInfo,name:"PopoverContainer",path:"packages/gamut/src/PopoverContainer/PopoverContainer.tsx#PopoverContainer"})}catch(__react_docgen_typescript_loader_error){}}}]);