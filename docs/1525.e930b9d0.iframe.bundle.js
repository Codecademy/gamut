"use strict";(self.webpackChunkgamut_repo=self.webpackChunkgamut_repo||[]).push([[1525],{"./packages/gamut/src/Video/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{C:()=>Video});var react=__webpack_require__("./node_modules/react/index.js"),Box=__webpack_require__("./packages/gamut/src/Box/Box.tsx");var emotion_styled_base_browser_esm=__webpack_require__("./node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),PlayIcon=__webpack_require__("./packages/gamut-icons/dist/icons/regular/PlayIcon.js"),src=__webpack_require__("./packages/gamut-styles/src/index.ts"),lib=__webpack_require__("./node_modules/react-player/lib/index.js"),lib_default=__webpack_require__.n(lib),FlexBox=__webpack_require__("./packages/gamut/src/Box/FlexBox.tsx"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const ReactVideoPlayer=(0,emotion_styled_base_browser_esm.A)(lib_default(),{target:"e179321e1",label:"ReactVideoPlayer"})((0,src.AH)({padding:0,position:"absolute",top:0,left:0,"& :focus-visible":{outlineOffset:"3px"},"video::-webkit-media-controls-panel":{backgroundImage:`linear-gradient(\n          transparent 15%,\n          ${src.w4.colors["navy-900"]} 55%\n        )`}}),""),StyledFlexBox=(0,emotion_styled_base_browser_esm.A)(FlexBox.p,{target:"e179321e0",label:"StyledFlexBox"})((0,src.AH)({flexDirection:"column",justifyContent:"center",alignItems:"center",position:"relative",color:"white",width:"100%",height:"100%",opacity:"0.5",bg:"black"}),""),OverlayPlayButton=({videoTitle})=>(0,jsx_runtime.jsx)(StyledFlexBox,{"aria-label":"play video"+(videoTitle?`: ${videoTitle}`:""),role:"button",children:(0,jsx_runtime.jsx)(PlayIcon.u,{color:"white",minHeight:"75px",minWidth:"75px"})});try{ReactVideoPlayer.displayName="ReactVideoPlayer",ReactVideoPlayer.__docgenInfo={description:"",displayName:"ReactVideoPlayer",props:{ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"Ref<ReactPlayer>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/gamut/src/Video/lib/ReactPlayer.tsx#ReactVideoPlayer"]={docgenInfo:ReactVideoPlayer.__docgenInfo,name:"ReactVideoPlayer",path:"packages/gamut/src/Video/lib/ReactPlayer.tsx#ReactVideoPlayer"})}catch(__react_docgen_typescript_loader_error){}try{OverlayPlayButton.displayName="OverlayPlayButton",OverlayPlayButton.__docgenInfo={description:"",displayName:"OverlayPlayButton",props:{videoTitle:{defaultValue:null,description:"",name:"videoTitle",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/gamut/src/Video/lib/ReactPlayer.tsx#OverlayPlayButton"]={docgenInfo:OverlayPlayButton.__docgenInfo,name:"OverlayPlayButton",path:"packages/gamut/src/Video/lib/ReactPlayer.tsx#OverlayPlayButton"})}catch(__react_docgen_typescript_loader_error){}var vidstack_WyKbSRm0=__webpack_require__("./node_modules/@vidstack/react/prod/chunks/vidstack-WyKbSRm0.js"),vidstack_ogCS36k4=__webpack_require__("./node_modules/@vidstack/react/prod/chunks/vidstack-ogCS36k4.js"),vidstack=__webpack_require__("./node_modules/@vidstack/react/prod/vidstack.js");const keyboardShortcuts={togglePaused:"k Space",toggleMuted:"m",toggleFullscreen:"f",togglePictureInPicture:"i",toggleCaptions:"c",seekBackward:"j J ArrowLeft",seekForward:"l L ArrowRight",volumeUp:"ArrowUp",volumeDown:"ArrowDown",speedUp:">",slowDown:"<"},defaultTranslations={"Seek Backward":"Back 10 seconds","Enter PiP":"Enter picture-in-picture","Exit PiP":"Exit picture-in-picture","Enter Fullscreen":"Enter fullscreen","Exit Fullscreen":"Exit fullscreen","Caption Styles":"Caption styles","Text Background":"Text background","Closed-Captions On":"Closed-Captions on","Closed-Captions Off":"Closed-Captions off","Display Background":"Display background","Keyboard Animations":"Keyboard animations"},vdsVariables={"--video-font-family":src.w4.fontFamily.base,"--video-brand":src.w4.colors["gray-100"],"--video-controls-color":src.w4.colors["gray-100"],"--video-focus-ring-color":src.w4.colors.primary,"--video-bg":src.w4.colors.black,"--video-border-radius":src.w4.borderRadii.md,"--media-button-border-radius":src.w4.borderRadii.md,"--media-button-padding":`0px ${src.w4.spacing[8]}`,"--media-tooltip-bg-color":src.w4.colors["background-contrast"],"--media-tooltip-border-radius":src.w4.borderRadii.sm,"--media-tooltip-border":`1px solid ${src.w4.colors["border-primary"]}`,"--media-tooltip-color":src.w4.colors.text,"--media-tooltip-font-size":src.w4.fontSize[14],"--media-tooltip-padding":src.w4.spacing[4],"--media-menu-checkbox-bg-active":src.w4.colors.primary,"--media-menu-checkbox-bg":src.w4.colors["text-disabled"],"--media-menu-checkbox-width":"36px","--media-menu-checkbox-height":"18px","--media-menu-checkbox-handle-border":`1px solid ${src.w4.colors.background}`,"--media-slider-preview-border-radius":src.w4.borderRadii.sm,"--media-slider-value-bg":src.w4.colors["background-contrast"],"--media-slider-value-border-radius":src.w4.borderRadii.sm,"--media-slider-value-border":`1px solid ${src.w4.colors["border-primary"]}`,"--media-slider-value-color":src.w4.colors.text,"--media-slider-value-padding":src.w4.spacing[4],"--media-tooltip-exit-animation":"vds-tooltip-exit 0s","--media-tooltip-enter-animation":"vds-tooltip-enter 0s","--media-menu-bg":src.w4.colors.background,"--media-menu-top-bar-bg":src.w4.colors.background,"--media-menu-section-bg":src.w4.colors["background-selected"],"--media-menu-border":`1px solid ${src.w4.colors["border-primary"]}`,"--media-menu-border-radius":src.w4.borderRadii.sm};var vidstack_CsL85dqs=__webpack_require__("./node_modules/@vidstack/react/prod/chunks/vidstack-CsL85dqs.js"),Timer10Icon=__webpack_require__("./packages/gamut-icons/dist/icons/regular/Timer10Icon.js"),vidstack_G6lmWJUv=__webpack_require__("./node_modules/@vidstack/react/prod/chunks/vidstack-G6lmWJUv.js"),vidstack_B7xS8hE4=__webpack_require__("./node_modules/@vidstack/react/prod/chunks/vidstack-B7xS8hE4.js");const SeekBackwardsButton=()=>{const seekBackwardText=(0,vidstack_CsL85dqs.Tq)("Seek Backward");return(0,jsx_runtime.jsxs)(vidstack_G6lmWJUv.YL.Root,{children:[(0,jsx_runtime.jsx)(vidstack_G6lmWJUv.YL.Trigger,{asChild:!0,children:(0,jsx_runtime.jsx)(vidstack_B7xS8hE4.xK,{className:"vds-button",seconds:-10,children:(0,jsx_runtime.jsx)(Timer10Icon.S,{height:20,width:20})})}),(0,jsx_runtime.jsx)(vidstack_G6lmWJUv.YL.Content,{className:"vds-tooltip-content",placement:"top",children:seekBackwardText})]})},customLayoutSlots={smallLayout:{beforeCaptionButton:(0,jsx_runtime.jsx)(SeekBackwardsButton,{})},largeLayout:{afterPlayButton:(0,jsx_runtime.jsx)(SeekBackwardsButton,{})},googleCastButton:null,airPlayButton:null,downloadButton:null};try{customLayoutSlots.displayName="customLayoutSlots",customLayoutSlots.__docgenInfo={description:"Custom layout slots for the video player\n\nThis defines custom slots for the DefaultVideoLayout component and\noverrides certain default slots with custom components or null values.\nFor more info see: https://vidstack.io/docs/player/components/layouts/default-layout/?styling=default-theme#slots",displayName:"customLayoutSlots",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/gamut/src/Video/lib/slotOverrides/index.tsx#customLayoutSlots"]={docgenInfo:customLayoutSlots.__docgenInfo,name:"customLayoutSlots",path:"packages/gamut/src/Video/lib/slotOverrides/index.tsx#customLayoutSlots"})}catch(__react_docgen_typescript_loader_error){}var PauseIcon=__webpack_require__("./packages/gamut-icons/dist/icons/regular/PauseIcon.js"),RefreshIcon=__webpack_require__("./packages/gamut-icons/dist/icons/regular/RefreshIcon.js"),VolumeControlMuteIcon=__webpack_require__("./packages/gamut-icons/dist/icons/regular/VolumeControlMuteIcon.js"),VolumeControlFullIcon=__webpack_require__("./packages/gamut-icons/dist/icons/regular/VolumeControlFullIcon.js"),VolumeControlMediumIcon=__webpack_require__("./packages/gamut-icons/dist/icons/regular/VolumeControlMediumIcon.js"),ClosedCaptionDisabledIcon=__webpack_require__("./packages/gamut-icons/dist/icons/regular/ClosedCaptionDisabledIcon.js"),ClosedCaptionIcon=__webpack_require__("./packages/gamut-icons/dist/icons/regular/ClosedCaptionIcon.js"),PipIcon=__webpack_require__("./packages/gamut-icons/dist/icons/regular/PipIcon.js"),PipExitIcon=__webpack_require__("./packages/gamut-icons/dist/icons/regular/PipExitIcon.js"),MiniAccessibilityIcon=__webpack_require__("./packages/gamut-icons/dist/icons/mini/MiniAccessibilityIcon.js"),MiniLiveVideoIcon=__webpack_require__("./packages/gamut-icons/dist/icons/mini/MiniLiveVideoIcon.js"),MiniCloseCaptioningIcon=__webpack_require__("./packages/gamut-icons/dist/icons/mini/MiniCloseCaptioningIcon.js"),ListIcon=__webpack_require__("./packages/gamut-icons/dist/icons/regular/ListIcon.js"),GearIcon=__webpack_require__("./packages/gamut-icons/dist/icons/regular/GearIcon.js"),FullscreenIcon=__webpack_require__("./packages/gamut-icons/dist/icons/regular/FullscreenIcon.js"),MinimizeIcon=__webpack_require__("./packages/gamut-icons/dist/icons/regular/MinimizeIcon.js"),vidstack_default_icons=__webpack_require__("./node_modules/@vidstack/react/prod/player/vidstack-default-icons.js");const IconWrapper=Icon=>props=>(0,jsx_runtime.jsx)(Icon,{...props,height:20,width:20}),customIcons={...vidstack_default_icons.g,PlayButton:{Play:PlayIcon.u,Pause:PauseIcon.E,Replay:RefreshIcon.f},MuteButton:{Mute:IconWrapper(VolumeControlMuteIcon._),VolumeHigh:IconWrapper(VolumeControlFullIcon.Q),VolumeLow:IconWrapper(VolumeControlMediumIcon.O)},CaptionButton:{Off:IconWrapper(ClosedCaptionDisabledIcon.W),On:IconWrapper(ClosedCaptionIcon.k)},PIPButton:{Enter:IconWrapper(PipIcon.P),Exit:IconWrapper(PipExitIcon.X)},Menu:{...vidstack_default_icons.g.Menu,Accessibility:MiniAccessibilityIcon.F,Playback:MiniLiveVideoIcon.A,Captions:MiniCloseCaptioningIcon.f,Chapters:ListIcon.k,Settings:GearIcon.L},FullscreenButton:{Enter:FullscreenIcon.P,Exit:MinimizeIcon.g}},VideoLayout=({controls,thumbnails,translations={}})=>{const mode=(0,src.go)();return(0,jsx_runtime.jsx)(vidstack_CsL85dqs.X2,{colorScheme:mode,hidden:!controls,icons:customIcons,noAudioGain:!0,noModal:!0,slots:customLayoutSlots,thumbnails,translations:{...defaultTranslations,...translations}})};try{VideoLayout.displayName="VideoLayout",VideoLayout.__docgenInfo={description:"VideoLayout component\n\nThis component is responsible for rendering the layout of the video player.\nIt uses the DefaultVideoLayout component from the vidstack library and applies\ncustom icons, slots, and other configurations.\nFor more info see: https://vidstack.io/docs/player/components/layouts/default-layout",displayName:"VideoLayout",props:{controls:{defaultValue:null,description:"",name:"controls",required:!1,type:{name:"boolean"}},thumbnails:{defaultValue:null,description:"",name:"thumbnails",required:!1,type:{name:"ThumbnailSrc"}},translations:{defaultValue:{value:"{}"},description:"",name:"translations",required:!1,type:{name:"Partial<DefaultLayoutTranslations>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/gamut/src/Video/lib/VideoLayout.tsx#VideoLayout"]={docgenInfo:VideoLayout.__docgenInfo,name:"VideoLayout",path:"packages/gamut/src/Video/lib/VideoLayout.tsx#VideoLayout"})}catch(__react_docgen_typescript_loader_error){}function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const VariableProvider=(0,emotion_styled_base_browser_esm.A)(Box.a,_extends({},{target:"e1dl7oy60",label:"VariableProvider"},(0,src.W8)(["variables"])))((({variables})=>variables),"width:100%;height:100%;position:relative;"),VidstackPlayer=({autoplay=!1,controls=!0,loop=!1,muted=!1,onPlay,onReady,onLoad,placeholderImage,videoTitle,videoUrl,textTracks,thumbnails,translations,width,height,className,showDefaultProviderControls=!1})=>{const player=(0,react.useRef)(null),paused=(0,vidstack_WyKbSRm0.nV)("paused",player),mediaRemote=(0,vidstack_ogCS36k4.iR)(player);return(0,jsx_runtime.jsx)(VariableProvider,{className,style:{width,height},variables:vdsVariables,children:(0,jsx_runtime.jsxs)(vidstack.KJj,{autoPlay:autoplay,controls:showDefaultProviderControls,keyShortcuts:keyboardShortcuts,loop,muted:!(!autoplay||!(0,vidstack_WyKbSRm0.Vl)(player?.current?.provider))||muted,playsInline:!0,ref:player,src:videoUrl,title:videoTitle,onCanPlay:onReady,onLoad,onPlay,onPlaying:()=>{autoplay&&player.current?.muted&&!muted&&mediaRemote?.unmute()},onProviderChange:async provider=>{(0,vidstack_WyKbSRm0.Vl)(provider)&&await provider.play()},onWaiting:()=>{(0,vidstack_WyKbSRm0.Vl)(player.current?.provider)&&paused&&mediaRemote?.togglePaused()},children:[(0,jsx_runtime.jsxs)(vidstack.YE$,{children:[placeholderImage&&(0,jsx_runtime.jsx)(vidstack.O6d,{alt:videoTitle,className:"vds-poster",src:placeholderImage}),textTracks?.map((track=>(0,react.createElement)(vidstack.CCl,{...track,key:track.src})))]}),(0,jsx_runtime.jsx)(VideoLayout,{controls,thumbnails,translations})]})})};try{VidstackPlayer.displayName="VidstackPlayer",VidstackPlayer.__docgenInfo={description:"",displayName:"VidstackPlayer",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},autoplay:{defaultValue:{value:"false"},description:"",name:"autoplay",required:!1,type:{name:"boolean"}},loop:{defaultValue:{value:"false"},description:"",name:"loop",required:!1,type:{name:"boolean"}},muted:{defaultValue:{value:"false"},description:"",name:"muted",required:!1,type:{name:"boolean"}},onPlay:{defaultValue:null,description:"",name:"onPlay",required:!1,type:{name:"(() => void)"}},onReady:{defaultValue:null,description:"",name:"onReady",required:!1,type:{name:"(() => void)"}},width:{defaultValue:null,description:"",name:"width",required:!1,type:{name:"number"}},height:{defaultValue:null,description:"",name:"height",required:!1,type:{name:"number"}},videoTitle:{defaultValue:null,description:"",name:"videoTitle",required:!1,type:{name:"string"}},controls:{defaultValue:{value:"true"},description:"",name:"controls",required:!1,type:{name:"boolean"}},placeholderImage:{defaultValue:null,description:"Placeholder image for a poster/thumbnail.",name:"placeholderImage",required:!1,type:{name:"string | boolean"}},videoUrl:{defaultValue:null,description:"The main source for the video file or streaming URL.\n@example <Video videoUrl='https://example.com/video.mp4' />\nOr with type\n<Video videoUrl={{ src: 'https://example.com/video.mp4', type: 'video/mp4' }} />",name:"videoUrl",required:!0,type:{name:"PlayerSrc"}},textTracks:{defaultValue:null,description:"Optional text track data (subtitles, captions or chapters).\n@example <Video textTracks={[{ label: 'English', src: '/eng.vtt', kind: 'subtitles', language: 'en-US', }]} />\n@see https://vidstack.io/docs/player/api/text-tracks/?styling=default-theme#managing-tracks",name:"textTracks",required:!1,type:{name:"TrackProps$2[]"}},thumbnails:{defaultValue:null,description:"Preview images for different time segments.",name:"thumbnails",required:!1,type:{name:"ThumbnailSrc"}},translations:{defaultValue:null,description:"Translations for the player's default layout labels.\n@example <Video translations={{ Play: 'Play Video' }} />",name:"translations",required:!1,type:{name:"Partial<DefaultLayoutTranslations>"}},showPlayerEmbed:{defaultValue:{value:"true"},description:"Determines if ReactPlayer is used to render youtube/vimeo videos.",name:"showPlayerEmbed",required:!1,type:{name:"boolean"}},showDefaultProviderControls:{defaultValue:{value:"false"},description:"Determines if the default provider/browser controls are shown.",name:"showDefaultProviderControls",required:!1,type:{name:"boolean"}},onLoad:{defaultValue:null,description:"",name:"onLoad",required:!0,type:{name:"() => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/gamut/src/Video/lib/VidstackPlayer.tsx#VidstackPlayer"]={docgenInfo:VidstackPlayer.__docgenInfo,name:"VidstackPlayer",path:"packages/gamut/src/Video/lib/VidstackPlayer.tsx#VidstackPlayer"})}catch(__react_docgen_typescript_loader_error){}const Video=props=>{const{autoplay=!1,className,controls=!0,loop=!1,muted=!1,onPlay,onReady,placeholderImage,videoTitle,videoUrl,showPlayerEmbed=!0}=props,[loading,setLoading]=(0,react.useState)(!0),isMounted=(()=>{const[isMounted,setIsMounted]=(0,react.useState)(!1);return(0,react.useEffect)((()=>{setIsMounted(!0)}),[]),isMounted})(),config={youtube:{playerVars:{color:"white"}},vimeo:{title:videoTitle}},isExternallyHostedVideoUrl=url=>!(!url.match(/youtu(be\.com|\.be)/)&&!url.match(/vimeo\.com/)),hasTracksWithCaptionOrSubtitle=props.textTracks?.length&&props.textTracks.some((track=>"subtitles"===track.kind||"captions"===track.kind));return(videoUrl=>!!videoUrl&&("string"==typeof videoUrl?isExternallyHostedVideoUrl(videoUrl):!!Array.isArray(videoUrl)&&videoUrl.some((url=>"string"==typeof url&&isExternallyHostedVideoUrl(url)))))(videoUrl)&&!hasTracksWithCaptionOrSubtitle&&showPlayerEmbed?(0,jsx_runtime.jsx)(Box.a,{bg:loading?"black":void 0,borderRadius:"md",className,overflow:"hidden",position:"relative",pt:"56.25%",width:"100%",children:isMounted?(0,jsx_runtime.jsx)(ReactVideoPlayer,{config,controls:void 0===controls||controls,height:"100%",light:placeholderImage,loop,muted,playIcon:(0,jsx_runtime.jsx)(OverlayPlayButton,{videoTitle}),playing:autoplay,title:videoTitle,url:videoUrl,width:"100%",onPlay,onReady:()=>{onReady?.(),setLoading(!1)}}):null}):(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:isMounted&&(0,jsx_runtime.jsx)(VidstackPlayer,{...props,onLoad:()=>setLoading(!1)})})};try{Video.displayName="Video",Video.__docgenInfo={description:"",displayName:"Video",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},autoplay:{defaultValue:null,description:"",name:"autoplay",required:!1,type:{name:"boolean"}},loop:{defaultValue:null,description:"",name:"loop",required:!1,type:{name:"boolean"}},muted:{defaultValue:null,description:"",name:"muted",required:!1,type:{name:"boolean"}},onPlay:{defaultValue:null,description:"",name:"onPlay",required:!1,type:{name:"(() => void)"}},onReady:{defaultValue:null,description:"",name:"onReady",required:!1,type:{name:"(() => void)"}},width:{defaultValue:null,description:"",name:"width",required:!1,type:{name:"number"}},height:{defaultValue:null,description:"",name:"height",required:!1,type:{name:"number"}},videoTitle:{defaultValue:null,description:"",name:"videoTitle",required:!1,type:{name:"string"}},controls:{defaultValue:null,description:"",name:"controls",required:!1,type:{name:"boolean"}},placeholderImage:{defaultValue:null,description:"Placeholder image for a poster/thumbnail.",name:"placeholderImage",required:!1,type:{name:"string | boolean"}},videoUrl:{defaultValue:null,description:"The main source for the video file or streaming URL.\n@example <Video videoUrl='https://example.com/video.mp4' />\nOr with type\n<Video videoUrl={{ src: 'https://example.com/video.mp4', type: 'video/mp4' }} />",name:"videoUrl",required:!0,type:{name:"PlayerSrc"}},textTracks:{defaultValue:null,description:"Optional text track data (subtitles, captions or chapters).\n@example <Video textTracks={[{ label: 'English', src: '/eng.vtt', kind: 'subtitles', language: 'en-US', }]} />\n@see https://vidstack.io/docs/player/api/text-tracks/?styling=default-theme#managing-tracks",name:"textTracks",required:!1,type:{name:"TrackProps$2[]"}},thumbnails:{defaultValue:null,description:"Preview images for different time segments.",name:"thumbnails",required:!1,type:{name:"ThumbnailSrc"}},translations:{defaultValue:null,description:"Translations for the player's default layout labels.\n@example <Video translations={{ Play: 'Play Video' }} />",name:"translations",required:!1,type:{name:"Partial<DefaultLayoutTranslations>"}},showPlayerEmbed:{defaultValue:{value:"true"},description:"Determines if ReactPlayer is used to render youtube/vimeo videos.",name:"showPlayerEmbed",required:!1,type:{name:"boolean"}},showDefaultProviderControls:{defaultValue:{value:"false"},description:"Determines if the default provider/browser controls are shown.",name:"showDefaultProviderControls",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/gamut/src/Video/index.tsx#Video"]={docgenInfo:Video.__docgenInfo,name:"Video",path:"packages/gamut/src/Video/index.tsx#Video"})}catch(__react_docgen_typescript_loader_error){}}}]);