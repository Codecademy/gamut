"use strict";(self.webpackChunkgamut_repo=self.webpackChunkgamut_repo||[]).push([[6612],{"./packages/gamut/src/DelayedRenderWrapper/DelayedRenderWrapper.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{S:()=>DelayedRenderWrapper});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js");const DelayedRenderWrapper=_ref=>{let{delay,children}=_ref;const[shouldRender,setShouldRender]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1);return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{const timer=setTimeout((()=>{setShouldRender(!0)}),delay);return()=>clearTimeout(timer)}),[delay]),0===delay||shouldRender?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment,{children}):null};try{DelayedRenderWrapper.displayName="DelayedRenderWrapper",DelayedRenderWrapper.__docgenInfo={description:"",displayName:"DelayedRenderWrapper",props:{delay:{defaultValue:null,description:"",name:"delay",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/gamut/src/DelayedRenderWrapper/DelayedRenderWrapper.tsx#DelayedRenderWrapper"]={docgenInfo:DelayedRenderWrapper.__docgenInfo,name:"DelayedRenderWrapper",path:"packages/gamut/src/DelayedRenderWrapper/DelayedRenderWrapper.tsx#DelayedRenderWrapper"})}catch(__react_docgen_typescript_loader_error){}},"./packages/styleguide/src/lib/Molecules/Coachmark/Coachmark.mdx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>MDXContent,parameters:()=>parameters});__webpack_require__("./node_modules/react/index.js");var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js"),_home_circleci_repo_node_modules_storybook_addon_docs_dist_shims_mdx_react_shim_mjs__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@mdx-js/react/lib/index.js"),_storybook_blocks__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@storybook/blocks/dist/index.mjs"),_styleguide_blocks__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/styleguide/.storybook/components/index.tsx"),_Coachmark_stories__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/styleguide/src/lib/Molecules/Coachmark/Coachmark.stories.tsx");const parameters={subtitle:"A Coachmark helps bring attention to a CTA by showing a popover around that element.",source:{repo:"gamut",githubLink:"https://github.com/Codecademy/gamut/blob/main/packages/gamut/src/Coachmark/index.tsx"},status:"current",design:{type:"figma",url:"https://www.figma.com/file/ReGfRNillGABAj5SlITalN/%F0%9F%93%90-Gamut?node-id=1083%3A1134"}};function _createMdxContent(props){const _components={code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,_home_circleci_repo_node_modules_storybook_addon_docs_dist_shims_mdx_react_shim_mjs__WEBPACK_IMPORTED_MODULE_4__.R)(),...props.components};return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_storybook_blocks__WEBPACK_IMPORTED_MODULE_5__.W8,{of:_Coachmark_stories__WEBPACK_IMPORTED_MODULE_3__}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_styleguide_blocks__WEBPACK_IMPORTED_MODULE_2__.Bg,{...parameters}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.h2,{id:"usage",children:"Usage"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.p,{children:["Use ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"Coachmark"})," to guide learners about key functionality on a page or drive new feature adoption."]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.h3,{id:"best-practices",children:"Best practices:"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.ul,{children:["\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.li,{children:"Provide guidance that introduces a new feature or explains a complex interaction."}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.li,{children:"Use coachmarks sparingly to avoid overwhelming the user."}),"\n"]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.h3,{id:"when-not-to-use",children:"When NOT to use:"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.ul,{children:["\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.li,{children:"Long-term guidance or instructions should be provided in a more permanent location, such as a help center or documentation."}),"\n"]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.h2,{id:"guidance",children:"Guidance"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.p,{children:["The ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"Coachmark"})," component should be wrapped around the element you want to highlight. What a user sees is comes from ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"renderPopover"})," which is a function with an optional ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"onDismiss"})," argument that returns a React node. ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"Coachmark"})," uses its child element as a target for the ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"Popover"}),"."]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.pre,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{className:"language-jsx",children:"const ExampleCoachmark = () => {\n  const [shouldShow, setShouldShow] = useState(true);\n\n  const renderPopover = (onDismiss) => (\n    <Box >\n      <Text>This is the Popover</Text>\n      <FillButton\n        onClick={() => {\n          setShouldShow(false);\n          onDismiss();\n        }}\n      >\n        Click to un-show the Coachmark's Popover!\n      </FillButton>\n    </Box\n  );\n\n  return (\n    <Coachmark\n      renderPopover={renderPopover}\n      shouldShow={shouldShow}\n    >\n      <FillButton onClick={() => setShouldShow(true)}>Child element that triggers Coachmark</FillButton>\n    </Coachmark>\n  );\n};\n"})}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.h3,{id:"shouldshow",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"shouldShow"})}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.p,{children:["A ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"Coachmark"})," can be set to show or hide based on the ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"shouldShow"})," prop. This is useful for controlling when the popover appears. For example, you might want to show the popover only in special circumstances, such as when a user first visits a page or not show again after they click a specific button."]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_storybook_blocks__WEBPACK_IMPORTED_MODULE_5__.Hl,{of:_Coachmark_stories__WEBPACK_IMPORTED_MODULE_3__.ShouldShow}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.h3,{id:"delay",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"delay"})}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.p,{children:["The ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"delay"})," prop allows you to control how long the popover will wait before showing. This is useful for ensuring that the user has time to interact with the target element before the popover appears."]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.p,{children:"This example has a delay of 3000 ms (3 seconds) between clicking the button and the popover appearing."}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_storybook_blocks__WEBPACK_IMPORTED_MODULE_5__.Hl,{of:_Coachmark_stories__WEBPACK_IMPORTED_MODULE_3__.Delay}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.h3,{id:"skipfocustrap",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"skipFocusTrap"})}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.p,{children:["The ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"skipFocusTrap"})," prop allows you to disable the focus trap that is normally applied to the popover. ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"skipFocusTrap"})," defaults to ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"true"}),", which means that the popover will not trap focus. However, if you need to to enable the focus trap you can set ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"skipFocusTrap"})," to ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"false"})," ."]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.h3,{id:"popoverprops",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"popoverProps"})}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.p,{children:["Using ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"popoverProps"}),", you can customize the look of the rendered popover. For example, you can add an outline, beak, and pattern, as shown below."]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_storybook_blocks__WEBPACK_IMPORTED_MODULE_5__.Hl,{of:_Coachmark_stories__WEBPACK_IMPORTED_MODULE_3__.Customized}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.h2,{id:"playground",children:"Playground"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_storybook_blocks__WEBPACK_IMPORTED_MODULE_5__.Hl,{sourceState:"shown",of:_Coachmark_stories__WEBPACK_IMPORTED_MODULE_3__.Default}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_storybook_blocks__WEBPACK_IMPORTED_MODULE_5__.H2,{})]})}function MDXContent(props={}){const{wrapper:MDXLayout}={...(0,_home_circleci_repo_node_modules_storybook_addon_docs_dist_shims_mdx_react_shim_mjs__WEBPACK_IMPORTED_MODULE_4__.R)(),...props.components};return MDXLayout?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(MDXLayout,{...props,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_createMdxContent,{...props})}):_createMdxContent(props)}},"./packages/styleguide/src/lib/Molecules/Coachmark/Coachmark.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{CoachmarkExample:()=>CoachmarkExample,Customized:()=>Customized,Default:()=>Default,Delay:()=>Delay,ShouldShow:()=>ShouldShow,__namedExportsOrder:()=>__namedExportsOrder,default:()=>Coachmark_stories});var react=__webpack_require__("./node_modules/react/index.js"),DelayedRenderWrapper=__webpack_require__("./packages/gamut/src/DelayedRenderWrapper/DelayedRenderWrapper.tsx"),Popover=__webpack_require__("./packages/gamut/src/Popover/Popover.tsx"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const Coachmark=_ref=>{let{children,shouldShow,activeElClassName,delay=0,renderPopover,popoverProps,skipFocusTrap=!0,onRequestClose}=_ref;const activeElRef=(0,react.useRef)(null),skipFocusTrapProps=skipFocusTrap?{skipFocusTrap:!0,onRequestClose:void 0}:{skipFocusTrap:void 0,onRequestClose};return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("div",{ref:activeElRef,className:activeElClassName,children}),shouldShow&&(0,jsx_runtime.jsx)(DelayedRenderWrapper.S,{delay,children:(0,jsx_runtime.jsx)(Popover.A,{...popoverProps,targetRef:activeElRef,isOpen:shouldShow,...skipFocusTrapProps,animation:"fade",children:renderPopover()})})]})};try{Coachmark.displayName="Coachmark",Coachmark.__docgenInfo={description:"",displayName:"Coachmark",props:{onRequestClose:{defaultValue:null,description:"Called when the Popover requests to be closed,\nthis could be due to clicking outside of the popover, or by clicking the escape key.",name:"onRequestClose",required:!1,type:{name:"(() => void)"}},skipFocusTrap:{defaultValue:{value:"true"},description:"Whether to include the focus trap - should only be skipped if parent of Popover is handling focus managment and accessibility (as is the case with FloatingToolTip). This also disables you from being to specify FocusTrap specific event handlers.\nWhether to include the focus trap - should only be skipped if parent of Popover is handling focus managment and accessibility (as is the case with FloatingToolTip). This also disables you from being to specify FocusTrap specific event handlers. tl;dr: use with caution",name:"skipFocusTrap",required:!1,type:{name:"true"}},activeElClassName:{defaultValue:null,description:"Applied to the element to which the coachmark points.",name:"activeElClassName",required:!1,type:{name:"string"}},children:{defaultValue:null,description:"A Coachmark should have children since it is a wrapper component.",name:"children",required:!0,type:{name:"ReactNode | ReactNode[]"}},delay:{defaultValue:{value:"0"},description:"Amount of time (in ms) to delay rendering the coachmark.",name:"delay",required:!1,type:{name:"number"}},shouldShow:{defaultValue:null,description:"Whether the coachmark is rendered.",name:"shouldShow",required:!0,type:{name:"boolean"}},renderPopover:{defaultValue:null,description:"Function that returns the contents of the coachmark.",name:"renderPopover",required:!0,type:{name:"(onDismiss?: (() => void) | undefined) => Element"}},popoverProps:{defaultValue:null,description:"Props to be passed into the popover component.",name:"popoverProps",required:!1,type:{name:"Partial<PopoverProps>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/gamut/src/Coachmark/index.tsx#Coachmark"]={docgenInfo:Coachmark.__docgenInfo,name:"Coachmark",path:"packages/gamut/src/Coachmark/index.tsx#Coachmark"})}catch(__react_docgen_typescript_loader_error){}var FlexBox=__webpack_require__("./packages/gamut/src/Box/FlexBox.tsx"),Text=__webpack_require__("./packages/gamut/src/Typography/Text.tsx"),FillButton=__webpack_require__("./packages/gamut/src/Button/FillButton.tsx"),CheckerDense=__webpack_require__("./packages/gamut-patterns/dist/patterns/CheckerDense.js");const Coachmark_stories={component:Coachmark,args:{}},CoachmarkExample=args=>{const[shouldShow,setShouldShow]=(0,react.useState)(void 0===args.shouldShow||args.shouldShow);return(0,jsx_runtime.jsx)(Coachmark,{...args,delay:args.delay??0,renderPopover:()=>(0,jsx_runtime.jsxs)(FlexBox.p,{flexDirection:"column",p:16,alignItems:"flex-start",children:[(0,jsx_runtime.jsx)(Text.E,{mb:8,children:"You should click the button."}),(0,jsx_runtime.jsx)(FillButton.S,{onClick:()=>{setShouldShow(!1)},size:"small",children:"Got it"})]}),shouldShow,children:(0,jsx_runtime.jsx)(FillButton.S,{onClick:()=>setShouldShow(!0),children:"A Button"})})},Default={render:props=>(0,jsx_runtime.jsx)(CoachmarkExample,{...props})},Customized={render:props=>(0,jsx_runtime.jsx)(CoachmarkExample,{...props,popoverProps:{beak:"left",outline:!0,pattern:CheckerDense.V}})},ShouldShow={render:props=>(0,jsx_runtime.jsx)(CoachmarkExample,{...props,shouldShow:!1,popoverProps:{beak:"left",outline:!0,pattern:CheckerDense.V}})},Delay={render:props=>(0,jsx_runtime.jsx)(CoachmarkExample,{...props,delay:3e3,shouldShow:!1,popoverProps:{beak:"left",outline:!0,pattern:CheckerDense.V}})},__namedExportsOrder=["CoachmarkExample","Default","Customized","ShouldShow","Delay"];CoachmarkExample.parameters={...CoachmarkExample.parameters,docs:{...CoachmarkExample.parameters?.docs,source:{originalSource:'(args: CoachmarkProps) => {\n  const [shouldShow, setShouldShow] = useState(args.shouldShow === undefined ? true : args.shouldShow);\n  const renderPopover = () => <FlexBox flexDirection="column" p={16} alignItems="flex-start">\n      <Text mb={8}>You should click the button.</Text>\n      <FillButton onClick={() => {\n      setShouldShow(false);\n    }} size="small">\n        Got it\n      </FillButton>\n    </FlexBox>;\n  return <Coachmark {...args} delay={args.delay ?? 0} renderPopover={renderPopover} shouldShow={shouldShow}>\n      <FillButton onClick={() => setShouldShow(true)}>A Button</FillButton>\n    </Coachmark>;\n}',...CoachmarkExample.parameters?.docs?.source}}},Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"{\n  render: props => <CoachmarkExample {...props} />\n}",...Default.parameters?.docs?.source}}},Customized.parameters={...Customized.parameters,docs:{...Customized.parameters?.docs,source:{originalSource:"{\n  render: props => <CoachmarkExample {...props} popoverProps={{\n    beak: 'left',\n    outline: true,\n    pattern: CheckerDense\n  }} />\n}",...Customized.parameters?.docs?.source}}},ShouldShow.parameters={...ShouldShow.parameters,docs:{...ShouldShow.parameters?.docs,source:{originalSource:"{\n  render: props => <CoachmarkExample {...props} shouldShow={false} popoverProps={{\n    beak: 'left',\n    outline: true,\n    pattern: CheckerDense\n  }} />\n}",...ShouldShow.parameters?.docs?.source}}},Delay.parameters={...Delay.parameters,docs:{...Delay.parameters?.docs,source:{originalSource:"{\n  render: props => <CoachmarkExample {...props} delay={3000} shouldShow={false} popoverProps={{\n    beak: 'left',\n    outline: true,\n    pattern: CheckerDense\n  }} />\n}",...Delay.parameters?.docs?.source}}};try{CoachmarkExample.displayName="CoachmarkExample",CoachmarkExample.__docgenInfo={description:"",displayName:"CoachmarkExample",props:{onRequestClose:{defaultValue:null,description:"Called when the Popover requests to be closed,\nthis could be due to clicking outside of the popover, or by clicking the escape key.",name:"onRequestClose",required:!1,type:{name:"(() => void)"}},skipFocusTrap:{defaultValue:null,description:"Whether to include the focus trap - should only be skipped if parent of Popover is handling focus managment and accessibility (as is the case with FloatingToolTip). This also disables you from being to specify FocusTrap specific event handlers.\nWhether to include the focus trap - should only be skipped if parent of Popover is handling focus managment and accessibility (as is the case with FloatingToolTip). This also disables you from being to specify FocusTrap specific event handlers. tl;dr: use with caution",name:"skipFocusTrap",required:!1,type:{name:"true"}},activeElClassName:{defaultValue:null,description:"Applied to the element to which the coachmark points.",name:"activeElClassName",required:!1,type:{name:"string"}},children:{defaultValue:null,description:"A Coachmark should have children since it is a wrapper component.",name:"children",required:!0,type:{name:"ReactNode | ReactNode[]"}},delay:{defaultValue:{value:"0"},description:"Amount of time (in ms) to delay rendering the coachmark.",name:"delay",required:!1,type:{name:"number"}},shouldShow:{defaultValue:null,description:"Whether the coachmark is rendered.",name:"shouldShow",required:!0,type:{name:"boolean"}},renderPopover:{defaultValue:null,description:"Function that returns the contents of the coachmark.",name:"renderPopover",required:!0,type:{name:"(onDismiss?: (() => void) | undefined) => Element"}},popoverProps:{defaultValue:null,description:"Props to be passed into the popover component.",name:"popoverProps",required:!1,type:{name:"Partial<PopoverProps>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/styleguide/src/lib/Molecules/Coachmark/Coachmark.stories.tsx#CoachmarkExample"]={docgenInfo:CoachmarkExample.__docgenInfo,name:"CoachmarkExample",path:"packages/styleguide/src/lib/Molecules/Coachmark/Coachmark.stories.tsx#CoachmarkExample"})}catch(__react_docgen_typescript_loader_error){}}}]);