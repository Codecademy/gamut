"use strict";(self.webpackChunkgamut_repo=self.webpackChunkgamut_repo||[]).push([[4745],{"./node_modules/@vidstack/react/prod/chunks/vidstack-krOAtKMi.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{getVimeoVideoInfo:()=>getVimeoVideoInfo,resolveVimeoVideoId:()=>resolveVimeoVideoId});const videoIdRE=/(?:https:\/\/)?(?:player\.)?vimeo(?:\.com)?\/(?:video\/)?(\d+)(?:(?:\?hash=|\?h=|\/)(.*))?/,infoCache=new Map,pendingFetch=new Map;function resolveVimeoVideoId(src){const matches=src.match(videoIdRE);return{videoId:matches?.[1],hash:matches?.[2]}}async function getVimeoVideoInfo(videoId,abort,videoHash){if(infoCache.has(videoId))return infoCache.get(videoId);if(pendingFetch.has(videoId))return pendingFetch.get(videoId);let oembedSrc=`https://vimeo.com/api/oembed.json?url=https://player.vimeo.com/video/${videoId}`;videoHash&&(oembedSrc=oembedSrc.concat(`?h=${videoHash}`));const promise=window.fetch(oembedSrc,{mode:"cors",signal:abort.signal}).then((response=>response.json())).then((data=>{const thumbnailId=data?.thumbnail_url?.match(/vimeocdn.com\/video\/(.*)?_/)?.[1],poster=thumbnailId?`https://i.vimeocdn.com/video/${thumbnailId}_1920x1080.webp`:"",info={title:data?.title??"",duration:data?.duration??0,poster,pro:"basic"!==data.account_type};return infoCache.set(videoId,info),info})).finally((()=>pendingFetch.delete(videoId)));return pendingFetch.set(videoId,promise),promise}}}]);