"use strict";(self.webpackChunkgamut_repo=self.webpackChunkgamut_repo||[]).push([[2691],{"./packages/gamut/src/Form/inputs/Checkbox.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{S:()=>Checkbox});var emotion_styled_base_browser_esm=__webpack_require__("./node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),src=__webpack_require__("./packages/gamut-styles/src/index.ts"),react=__webpack_require__("./node_modules/react/index.js"),FlexBox=__webpack_require__("./packages/gamut/src/Box/FlexBox.tsx"),InfoTip=__webpack_require__("./packages/gamut/src/Tip/InfoTip/index.tsx"),type_utils=__webpack_require__("./packages/gamut/src/Tip/InfoTip/type-utils.ts"),shared_system_props=__webpack_require__("./packages/gamut/src/Form/styles/shared-system-props.ts");const checkboxLabel=src.qU.css({display:"flex",alignItems:"flex-start",cursor:"pointer",m:4,px:0,py:16,...shared_system_props.y2}),checkboxLabelStates=src.qU.states({disabled:{cursor:"not-allowed"}}),checkboxPadding=src.qU.variant({defaultVariant:"base",prop:"spacing",variants:{base:{py:16},tight:{py:4}}}),checkboxElement=src.qU.css({position:"relative",mr:8,minWidth:22,width:22,height:22,borderColor:"border-primary",borderRadius:"4px",borderStyle:"solid",borderWidth:"2px",transition:(0,src.ab)(["transform","outline","background-color","box-shadow"],"slow","ease-in-out"),[shared_system_props.h$.HOVER]:{outline:`2px solid   ${src.w4.colors.primary}`,outlineOffset:"2px"}}),polyline=src.qU.css({color:"background"}),checkboxTextStates=src.qU.states({multiline:{fontSize:14},disabled:shared_system_props.uD}),checkboxElementStates=src.qU.states({multiline:{mt:4},active:{color:"primary",borderColor:"primary"},disabled:{color:"text-disabled",[shared_system_props.h$.HOVER]:{outline:"none"}},hasBg:{bg:"currentColor"},hideBorder:{borderColor:"transparent"}}),checkboxInput=src.qU.css({[shared_system_props.h$.FOCUS_LABEL_DIV_CHILD]:{outline:`2px solid ${src.w4.colors.primary}`,outlineOffset:"2px"}});var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const CheckboxLabel=(0,emotion_styled_base_browser_esm.A)("label",{target:"e1ni3uy16",label:"CheckboxLabel"})(src.Ov,checkboxLabel,checkboxPadding,checkboxLabelStates,""),CheckboxElement=(0,emotion_styled_base_browser_esm.A)("div",_extends({},{target:"e1ni3uy15",label:"CheckboxElement"},src.W8))(checkboxElement,checkboxElementStates,""),CheckboxVector=(0,emotion_styled_base_browser_esm.A)("svg",{target:"e1ni3uy14",label:"CheckboxVector"})({name:"13idn5w",styles:"position:absolute;top:-1px;left:-1px"}),Checkmark=(0,emotion_styled_base_browser_esm.A)("polyline",{target:"e1ni3uy13",label:"Checkmark"})(polyline," fill:none;stroke:currentColor;stroke-width:2;stroke-linecap:round;stroke-linejoin:round;stroke-dasharray:18px;stroke-dashoffset:",(({checked})=>checked?0:"18px"),";transition:stroke-dashoffset ",src.N9.fast,";"),Line=(0,emotion_styled_base_browser_esm.A)("line",{target:"e1ni3uy12",label:"Line"})(polyline," fill:none;stroke:currentColor;stroke-width:2;stroke-dasharray:18px;stroke-dashoffset:",(({indeterminate})=>indeterminate?0:"18px"),";transition:stroke-dashoffset ",src.N9.fast,";"),Input=(0,emotion_styled_base_browser_esm.A)("input",{target:"e1ni3uy11",label:"Input"})(src.IR," ",checkboxInput,";"),CheckboxText=(0,emotion_styled_base_browser_esm.A)("span",{target:"e1ni3uy10",label:"CheckboxText"})(checkboxTextStates,""),Checkbox=(0,react.forwardRef)((({"aria-label":ariaLabel,checked,indeterminate,className,disabled,dontAriaHideLabel,htmlFor,id,infotip,label,multiline,spacing,value,...rest},ref)=>{const intRef=(0,react.useRef)(null),{infotipProps,labelId,shouldLabelInfoTip}=(0,type_utils.v)(infotip);(0,react.useEffect)((()=>{intRef.current&&void 0!==indeterminate&&!checked&&(intRef.current.indeterminate=indeterminate)}),[checked,indeterminate]);const active=checked||indeterminate,textId=shouldLabelInfoTip?labelId:`text-${id||htmlFor}`;return(0,jsx_runtime.jsxs)(shared_system_props.oi,{className,children:[(0,jsx_runtime.jsx)(Input,{"aria-label":void 0===ariaLabel?"string"==typeof label?label:"checkbox":ariaLabel,checked,disabled,id:id||htmlFor,"labelled-by":textId,type:"checkbox",value:`${value}`,...rest,ref:function syncedRefs(element){intRef.current=element,ref&&("object"==typeof ref?ref.current=element:ref(element))}}),(0,jsx_runtime.jsxs)(CheckboxLabel,{disabled,htmlFor:id||htmlFor,spacing,children:[(0,jsx_runtime.jsx)(CheckboxElement,{active,disabled,hasBg:checked||indeterminate,hideBorder:disabled&&(checked||indeterminate),multiline,children:(0,jsx_runtime.jsxs)(CheckboxVector,{"aria-hidden":!0,color:active?"currentColor":"transparent",height:"19px",viewBox:"0 0 19 19",width:"19px",children:[(0,jsx_runtime.jsx)(Checkmark,{checked:checked&&!indeterminate,points:"4 11 8 15 16 6"}),(0,jsx_runtime.jsx)(Line,{indeterminate,x1:"4",x2:"16",y1:"10",y2:"10"})]})}),(0,jsx_runtime.jsx)(CheckboxText,{"aria-hidden":dontAriaHideLabel?"false":"true",disabled,id:textId,multiline,children:label})]}),infotipProps&&(0,jsx_runtime.jsx)(FlexBox.p,{center:!0,pl:8,children:(0,jsx_runtime.jsx)(InfoTip.q,{...infotipProps})})]})}));try{Checkbox.displayName="Checkbox",Checkbox.__docgenInfo={description:"",displayName:"Checkbox",props:{label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"ReactNode"}},"aria-label":{defaultValue:null,description:"",name:"aria-label",required:!1,type:{name:"string"}},indeterminate:{defaultValue:null,description:"",name:"indeterminate",required:!1,type:{name:"boolean"}},checked:{defaultValue:null,description:"",name:"checked",required:!1,type:{name:"boolean"}},spacing:{defaultValue:null,description:"",name:"spacing",required:!1,type:{name:'false | "base" | "tight"'}},multiline:{defaultValue:null,description:"",name:"multiline",required:!1,type:{name:"boolean"}},htmlFor:{defaultValue:null,description:"[The for/id string of a label or labelable form-related element](https://developer.mozilla.org/en-US/docs/Web/API/HTMLLabelElement/htmlFor). The outer FormGroup or FormLabel should have an identical string as the inner FormElement for accessibility purposes.",name:"htmlFor",required:!0,type:{name:"string"}},infotip:{defaultValue:null,description:"Infotip props to render to the right of your checkbox label.\nThe InfoTip button is automatically labelled by the checkbox label.\nTo override this behavior, provide `ariaLabel` or `ariaLabelledby`.",name:"infotip",required:!1,type:{name:"InfoTipSubComponentProps"}},value:{defaultValue:null,description:'@remarks The `value` prop here gets passed to the underlying `input` component\nand functions exactly like the HTML spec for checkboxes defines\n(which may not be as you expect):\nhttps://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/checkbox#value=\n\nOf note is that `value` ends up being the string that your field name key\nis set to when the checkbox is checked. So a `value` of the boolean `true` and\na `name` of "isPro" will result in `{\n isPro: "true"\n}` being submitted to your (non-`Connected`) form when the checkbox is checked.\nHowever, if due to how your HOC is organized, the Checkbox recieves a value\nof the boolean `false` when it is unchecked, NOTHING will be submitted. You\n_will not_ get `{ isPro: "false" }` on submit. However, the `value` of your input\nwill be "false"\n\nAs the MDN documentation above states:\n"If a checkbox is unchecked when its form is submitted, there is no value submitted to the server to represent its unchecked state (e.g. value=unchecked); the value is not submitted to the server at all"\n\nThis behavior may not matter to you if you\'re handling your own form values\nexternally (i.e. not relying on default lower-case-`form`/`input` submit behavior)\nor you\'re using `register` from Gamut\'s `useField` hook,\nwhich uses `react-hook-form`\'s logic to sidestep this behavior by not passing\na value to the underlying checkbox at all.',name:"value",required:!1,type:{name:"string | boolean"}},dontAriaHideLabel:{defaultValue:null,description:"Use if you want both the aria-label and text label to be read by voiceover - this component assumes that the aria-label and visual text label are identical.\nIf you have a link in the Checkbox options, you should set this as true.",name:"dontAriaHideLabel",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/gamut/src/Form/inputs/Checkbox.tsx#Checkbox"]={docgenInfo:Checkbox.__docgenInfo,name:"Checkbox",path:"packages/gamut/src/Form/inputs/Checkbox.tsx#Checkbox"})}catch(__react_docgen_typescript_loader_error){}},"./packages/gamut/src/Tip/InfoTip/type-utils.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{v:()=>useInfotipProps});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");const useInfotipProps=infotip=>{const labelId=(0,react__WEBPACK_IMPORTED_MODULE_0__.useId)(),{infotipProps,shouldLabelInfoTip}=infotip?((props,fallbackAriaLabelledby)=>{const{ariaLabel,ariaLabelledby,...rest}=props,hasAriaLabelledby=void 0!==ariaLabelledby;return void 0!==ariaLabel?{infotipProps:{...rest,ariaLabel},shouldLabelInfoTip:!1}:hasAriaLabelledby?{infotipProps:{...rest,ariaLabelledby},shouldLabelInfoTip:!1}:fallbackAriaLabelledby?{infotipProps:{...rest,ariaLabelledby:fallbackAriaLabelledby},shouldLabelInfoTip:!0}:{infotipProps:{...rest},shouldLabelInfoTip:!1}})(infotip,labelId):{infotipProps:void 0,shouldLabelInfoTip:!1};return{infotipProps,labelId,shouldLabelInfoTip}}}}]);