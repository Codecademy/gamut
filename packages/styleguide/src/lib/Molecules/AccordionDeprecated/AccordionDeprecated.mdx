import { Canvas, Controls, Meta } from '@storybook/blocks';

import { Callout, ComponentHeader, LinkTo } from '~styleguide/blocks';

import * as AccordionDeprecatedStories from './AccordionDeprecated.stories';

export const parameters = {
  subtitle: `A molecule consisting of a "top" section and an expandable body,
such as a "hint" section in the LE or a list of department jobs on a careers page.`,
  status: 'deprecated',
  source: {
    repo: 'gamut',
    githubLink:
      'https://github.com/Codecademy/gamut/blob/main/packages/gamut/src/AccordionDeprecated/index.tsx',
  },
};

<Meta of={AccordionDeprecatedStories} />

<ComponentHeader {...parameters} />

<Callout
  text={
    <>
      Note: This component is deprecated. For similar functionality, consider
      using <LinkTo id="Molecules/Disclosure">Disclosure</LinkTo> or a{' '}
      <LinkTo id="Organisms/Lists & Tables/List">List </LinkTo> component.
    </>
  }
/>

## Usage

Use in conjunction with the AccordionButtonDeprecated component to create an accordion-style interface.

This Accordion component will fit to `100%` of the the height of their parent container. If you need a fixed height container, wrap the accordion in a `<div>`.

### Best practices:

- Avoid unless necessary for legacy pages that rely on this component. Check with a designer to ensure that styling is consistent or if it could be upgraded to use an updated component.

### When NOT to use:

- Having a button that reveals additional information- for creating a single "Accordion", similar to an HTML [details](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/details) element, use the Disclosure component instead.
- Creating a "Accordion" with many rows â€” akin to an FAQ that lists out questions and reveals an answer when clicked, use the List component with expandable rows.

## Variants

### AccordionAreaDeprecated

If you'd like a "controlled" component equivalent, you can manually use the `AccordionAreaDeprecated` and `AccordionButtonDeprecated` sub-components. In these cases, you'll need to manage the state of the `expanded` prop yourself.

Most accordions should use an `AccordionButtonDeprecated`; other forms of buttons are acceptable for custom accordions.

<Canvas of={AccordionDeprecatedStories.AccordionAreaDeprecatedExample} />

## Playground

<Canvas sourceState="shown" of={AccordionDeprecatedStories.Default} />

<Controls />
