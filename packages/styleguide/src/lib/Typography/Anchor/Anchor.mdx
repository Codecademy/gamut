import { Canvas, Controls, Meta } from '@storybook/blocks';

import {
  Callout,
  ComponentHeader,
  ImageWrapper,
  LinkTo,
} from '~styleguide/blocks';

import * as AnchorStories from './Anchor.stories';

export const parameters = {
  title: 'Anchor',
  subtitle: `A clickable text element that navigates to another page, resource, or location on the same page.`,
  design: {
    type: 'figma',
    url: 'https://www.figma.com/file/ReGfRNillGABAj5SlITalN/%F0%9F%93%90-Gamut?node-id=993-0',
  },
  status: 'current',
  source: {
    repo: 'gamut',
    githubLink:
      'https://github.com/Codecademy/gamut/blob/main/packages/gamut/src/Anchor',
  },
};

<Meta of={AnchorStories} />

<ComponentHeader {...parameters} />

## Usage

Use an anchor to navigate to another page, resource, or location on the same page.

### Best practices:

- Include a leading or trailing icon to clarify the link’s destination or to further distinguish from surrounding text.
- Consider opening in a new tab when navigating away would interrupt a task or workflow the user is currently engaged in.

### When NOT to use:

- **Actions** - when performing an actions, use a <LinkTo id="Atoms/Buttons">Button</LinkTo> component instead.

## Anatomy

<ImageWrapper
  src="./typography/anchor.png"
  alt="The anatomy of the Anchor component, detailed below."
/>

**1. Leading Icon** _(optional)_

- Use to clarify or reinforce the link’s destination

**2. Anchor link label**

- Specify where the link goes
- Use casing from writing guidelines
- Aim for 3-5 words

**3. Trailing icon** _(optional)_

- Use to reinforce forward movement or navigation to a new page
- When navigation to an external page, use the <LinkTo id="Atoms/Icons/Mini">MiniOpenIcon</LinkTo>.

## Variants

### Inline (default)

Use in paragraphs, styled with color and underline to improve link visibility within text-heavy content.

### Interface

Use in menus or in instances where the context of the link makes it clear that it is clickable.

### Standard

Use outside of a paragraph or `menu` instance.

<Callout text="When placed inline with other bold text (e.g., headings), standard links do not meet a11y standards. Include an icon to ensure the link is distinguishable. When placed alongside non-bold text, bold formatting provides adequate visual distinction." />

### Standard Secondary

Use outside of a paragraph or `menu` instance when a lower level of prominence is needed. This variant is suitable for secondary links where the Standard variant might feel too bold or attention-grabbing.

<Canvas of={AnchorStories.Modes} />

## Icons

Gamut icons can be added to the `Anchor` component using the `icon` prop. For leading or trailing icons, provide a single icon to the `Icon` prop and set the `iconPosition` prop to either `left` or `right`.
If you provide `icon` with an array of two icons, the first icon will be rendered in the left position and the second icon will be rendered in the right position — also `iconPosition` should be omitted.

By default the icons will be NOT be inline.

<Canvas of={AnchorStories.IconFlexAnchor} />

You can set `variant="inline"` to render the icons inline with the text. This is useful for links that are part of a paragraph or text-heavy content.

<Canvas of={AnchorStories.IconInlineAnchorExample} />

Icons are also responsive to ColorMode.

<Canvas of={AnchorStories.IconModes} />

## Polymorphic Anchors

Our Anchors are polymorphic - they can be rendered as a button or a link component. This allows for better accessibility and flexibility as this happens automatically based on the props passed to the Anchor. Please use this sparingly and when appropriate (for example, a `button` that navigates to a new page).

<Canvas of={AnchorStories.PolymorphicAnchor} />

### Disabled Anchor

The `Anchor` component can be disabled by passing the `disabled` prop. Since `<a>` elements do not support the `disabled` attribute, the `Anchor` component will render as a `<button>` when disabled.

<Canvas of={AnchorStories.DisabledAnchor} />

## Playground

<Canvas sourceState="shown" />

<Controls />

## UX writing

Writing words for a link or button? Above all else, make sure that the words alone make it clear where a button or link will take the user. Refer to the checklist below for guidance. For more tips and best practices, check out the full guide about <LinkTo id="writing-ux-writing-component-guidelines-buttons-and-links--page">writing for buttons and links</LinkTo>.

- Make sure it’s clear where the link or button will take the user.
- Use sentence case, capitalizing only proper nouns.
