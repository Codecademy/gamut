import { Canvas, Controls, Meta } from '@storybook/blocks';

import { ComponentHeader, LinkTo } from '~styleguide/blocks';

import * as SubmitButtonStories from './SubmitButton.stories';

export const parameters = {
  title: 'SubmitButton',
  subtitle: `A submit type button for ConnectedForm.`,
  status: 'current',
  source: {
    repo: 'gamut',
    githubLink:
      'https://github.com/Codecademy/gamut/blob/main/packages/gamut/src/ConnectedForm/SubmitButton.tsx',
  },
};

<Meta of={SubmitButtonStories} />

<ComponentHeader {...parameters} />

## Usage

`SubmitButton`: A submit type <LinkTo id='Atoms/Buttons'>Button</LinkTo> that uses the context provided by `ConnectedForm` for loading and disabled states. Must be used within <LinkTo id='Organisms/ConnectedForm/ConnectedForm'>ConnectedForm</LinkTo> .

### Example Code

```tsx
import {
  ConnectedInput,
  useConnectedForm,
  SubmitButton,
} from '@codecademy/gamut';

export const NiceForm = () => {
  const { ConnectedFormGroup, ConnectedForm, connectedFormProps } =
    useConnectedForm({
      defaultValues: {
        inputField: 'default sentence',
      },
      validationRules: {
        inputField: { required: 'you gotta say something' },
      },
    });

  return (
    <ConnectedForm
      onSubmit={(values) => submit(values)}
      {...connectedFormProps}
    >
      <ConnectedFormGroup
        name="inputField"
        label="cool input"
        field={{
          component: ConnectedInput,
          icon: TerminalIcon,
        }}
      />
      <SubmitButton>submit my form!</SubmitButton>
    </ConnectedForm>
  );
};
```

## States

A `SubmitButton` can have 3 different states:

- `default` being a standard button that can be interacted with.
- `loading` that displays a spinner inside the button and prevents the button from being clicked.
- `disabled` being a button that is disabled and therefore not interactable.

<Canvas of={SubmitButtonStories.States} />

## Playground

<Canvas sourceState="shown" of={SubmitButtonStories.Default} />

<Controls />
