import { Canvas, Controls, Meta } from '@storybook/blocks';

import { ComponentHeader, KeyboardKey } from '~styleguide/blocks';

import * as SkipToContentStories from './SkipToContent.stories';

export const parameters = {
  title: 'SkipToContent',
  subtitle: `An invisible component to make pages more keyboard accessible.`,
  status: 'current',
  source: {
    repo: 'gamut',
    githubLink:
      'https://github.com/Codecademy/gamut/blob/main/packages/gamut/src/SkipToContent',
  },
};

<Meta of={SkipToContentStories} />

<ComponentHeader {...parameters} />

## Usage

Use `<SkipToContent />` to add a hidden-by-default link that becomes visible when the user <KeyboardKey>Tab</KeyboardKey>s over it (gives it focus).
It takes in the ID of the element it will scroll to and focus ([dev.to article explaining why](https://dev.to/robdodson/managing-focus-64l)) on click (via mouse or keyboard).

This type of control is necessary for pages that have a bunch of stuff keyboard users would have to <KeyboardKey>Tab</KeyboardKey> through to get to the page's main content (like navigations).

For this element to work properly, there must be a `<SkipToContentTarget />` component with the id passed into this component for the `contentId` prop. The `<SkipToContentTarget />` component by default has a `tabIndex` of -1.
Example:

```jsx
<div>
  <div>
    <SkipToContent contentId="main-content" />
    <a href="/">Link 1</a>
    <a href="/">Link 2</a>
    <a href="/">Link 3</a>
  </div>
  <SkipToContentTarget id="main-content" />
  <FillButton>I should have focus after skip to content</FillButton>
</div>
```

To see it, keep pressing <KeyboardKey>Tab</KeyboardKey> around on this page or visit [the catalog](https://www.codecademy.com/catalog/language/javascript) and navigate via <KeyboardKey>Tab</KeyboardKey> to see it in action.

## Playground

<Canvas sourceState="shown" of={SkipToContentStories.Default} />

<Controls />
