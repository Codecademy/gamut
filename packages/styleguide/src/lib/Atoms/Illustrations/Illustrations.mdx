import * as illustrations from '@codecademy/gamut-illustrations';
import {
  Canvas,
  Controls,
  IconGallery,
  IconItem,
  Meta,
} from '@storybook/blocks';

import { ComponentHeader } from '~styleguide/blocks';

import * as IllustrationsStories from './Illustrations.stories';

export const parameters = {
  subtitle:
    'React components that serve up SVGs to provide more control and reusability.',
  status: 'current',
  source: {
    repo: 'gamut-illustrations',
    githubLink:
      'https://github.com/Codecademy/gamut/tree/main/packages/gamut-illustrations/src',
  },
};

<Meta of={IllustrationsStories} />

<ComponentHeader {...parameters} />

## Usage

Illustrations are intended to be able to take in props for variants such as color, so despite being SVG-based, they're stored in our code as regular React components and can be used like so:

```jsx
import { NumberBlocks } from '@codecademy/gamut-illustrations';

<NumberBlocks width="128px" />;
```

## Adding an illustration

If you cannot find the Illustration you would like in the ones that we have specified here, please follow these steps to add one.

1. In a Figma that contains an illustration, right-click on the layer and copy it as an SVG
2. Use `svgo`, such as through https://jakearchibald.github.io/svgomg, to minify that markup
   - Tip: the default settings work _except_ you'll need to add the root `viewport` attribute back to the `<svg>`
3. Paste the SVG in a new component under `packages/gamut-illustrations/src/<IllustrationName>.tsx`
4. Run the ESLint auto-fixer to correct React attribute names
5. Add the illustration under `packages/gamut-illustrations/src/index.ts`
6. Send this in as a `feat` pull request

## Playground

<Canvas of={IllustrationsStories.Default} />

<Controls />

## Illustrations

<IconGallery>
  {Object.entries(illustrations).map(([illustrationName, Illustration]) => (
    <IconItem key={illustrationName} name={illustrationName}>
      <Illustration aria-hidden width="128px" />
    </IconItem>
  ))}
</IconGallery>
