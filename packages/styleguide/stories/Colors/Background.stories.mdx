import { Anchor, Text } from '@codecademy/gamut';
import { Background } from '@codecademy/gamut-styles';
import title from '@codecademy/macros/lib/title.macro';
import { PropsTable } from '@codecademy/storybook-addon-variance';
import { Canvas, Meta, Story } from '@storybook/addon-docs/blocks';

import { BackgroundExample } from './examples';

<Meta
  title={title}
  component={Background}
  parameters={{
    subtitle: 'Pick the appropriate color mode for any background',
    source: 'gamut-styles',
    status: 'current',
  }}
  args={{
    bg: 'navy',
  }}
/>

There are many cases where you may need a specific background color for a section of a page, like a card or a landing page. Instead of having to guess the right mode for the background, we've added a `<Background />` component to detect if contrast of the background and current mode's text color meet an accessible standard. If not, we will automatically change the mode to an accessible one, allowing you to be sure that all components inside your background will meet contrast requirements and designs without any configuration!

<br />

### Examples

Sometimes you may just want to wrap a page in a different background color than the base color mode.

<BackgroundExample bg="hyper" />

<BackgroundExample bg="beige" />

In some cases you may want to use multiple areas with different backgrounds. `<Background />` makes this a simple task by provisioning a new color context for all components inside.

<BackgroundExample bg="black">
  <BackgroundExample bg="paleGreen" />
</BackgroundExample>

<br />

### Usage

```tsx
import { Background } from '@codecademy/gamut-styles';

const Page = ({ children }) => (
  <Background bg="hyper">{children}</Background>;
);
```

<br />

### Code Playground

<Canvas>
  <Story name="Background">
    {(args) => (
      <Background {...args} p={32}>
        <Text variant="title-md" mb={16}>
          {args.bg}
        </Text>
        <Text as="p" mb={16}>
          Lorem ipsum dolor sit amet, sed do eiusmod tempor incididunt ut labore
          et dolore <Anchor>magna aliqua</Anchor>. Ut <a href="#cool">enim</a>{' '}
          ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut
          aliquip ex ea commodo consequat.
        </Text>
      </Background>
    )}
  </Story>
</Canvas>

<PropsTable story="Background" defaultGroups={['color']} />
