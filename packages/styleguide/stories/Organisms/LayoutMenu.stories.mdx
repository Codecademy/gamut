import { Anchor, Box } from '@codecademy/gamut';
import { LayoutMenu } from '@codecademy/gamut-labs/src';
import title from '@codecademy/macros/lib/title.macro';
import { PropsTable } from '@codecademy/storybook-addon-variance';
import { Canvas, Meta, Story } from '@storybook/addon-docs/blocks';

<Meta
  title={title}
  component={LayoutMenu}
  args={{
    sections: [
      {
        title: 'Languages',
        slug: 'language',
        items: [
          {
            title: 'HTML & CSS',
            slug: 'html-css',
          },
          {
            title: 'Python',
            slug: 'python',
          },
        ],
      },
      {
        title: 'Subjects',
        slug: 'subject',
        items: [
          {
            title: 'Data Science',
            slug: 'data-science',
          },
          {
            title: 'Computer Science',
            slug: 'computer-science',
          },
        ],
      },
    ],
    onSectionToggle: (slug) => {
      // eslint-disable-next-line no-console
      console.log(
        `You could add event tracking here. You have access to the slug: ${slug}`
      );
    },
    onSectionItemClick: (item) => {
      // eslint-disable-next-line no-console
      console.log(
        `You should handle where the link goes here and also could add event tracking. You have access to the menu item: ${item}`
      );
    },
    mobileButtonText: 'Click Me',
    showLogoOnFlyout: true,
  }}
  parameters={{
    subtitle: `An accordion menu, currently used in the Catalog and Cheatsheets Index`,
    source: 'gamut-labs',
    status: 'updating',
  }}
/>

<Canvas>
  <Story name="LayoutMenu">{(args) => <LayoutMenu {...args} />}</Story>
</Canvas>

<PropsTable story="LayoutMenu" />

## With Selected Item

<Canvas>
  <Story name="With Selected Item">
    {(args) => <LayoutMenu {...args} selectedItem="python" />}
  </Story>
</Canvas>

## With Additional Links

<Canvas>
  <Story name="With Additional Links">
    {(args) => (
      <LayoutMenu {...args}>
        <Box pb={32}>
          <Anchor
            variant="interface"
            display="block"
            onClick={() =>
              (window.location.href = 'https://www.codecademy.com/catalog/all')
            }
          >
            Full Catalog
          </Anchor>
        </Box>
        <Box pb={32}>
          <Anchor
            variant="interface"
            display="block"
            onClick={() =>
              (window.location.href =
                'https://www.codecademy.com/explore/sorting-quiz')
            }
          >
            Where do I begin?
          </Anchor>
        </Box>
      </LayoutMenu>
    )}
  </Story>
</Canvas>

## Without Logo

<Canvas>
  <Story name="Without Logo">
    {(args) => <LayoutMenu {...args} showLogoOnFlyout={false} />}
  </Story>
</Canvas>
