import { Box } from '@codecademy/gamut';
import {
  LayoutMenu,
  SectionItemLink,
  SelectedSectionItem,
} from '@codecademy/gamut-labs/src';
import title from '@codecademy/macros/lib/title.macro';
import { PropsTable } from '@codecademy/storybook-addon-variance';
import { Canvas, Meta, Story } from '@storybook/addon-docs/blocks';

<Meta
  title={title}
  component={LayoutMenu}
  args={{
    sections: [
      {
        title: 'Languages',
        slug: 'language',
        items: [
          {
            title: 'HTML & CSS',
            slug: 'html-css',
            href: '/catalog/language/html-css',
            onClick: () => null,
          },
          {
            title: 'Python',
            slug: 'python',
            href: '/catalog/language/python',
            onClick: () => null,
          },
        ],
      },
      {
        title: 'Subjects',
        slug: 'subject',
        items: [
          {
            title: 'Data Science',
            slug: 'data-science',
            href: '/catalog/subject/data-science',
            onClick: () => null,
          },
          {
            title: 'Computer Science',
            slug: 'computer-science',
            href: '/catalog/subject/computer-science',
            onClick: () => null,
          },
        ],
      },
    ],
    onSectionToggle: (slug) => {
      // eslint-disable-next-line no-console
      console.log(
        `You could add event tracking here. You have access to the slug: ${slug}`
      );
    },
    mobileButtonText: 'Click Me',
  }}
  parameters={{
    subtitle: `A group of accordion menus with optional additional links. On tablet and mobile, a button activates a flyout containing the accordion menu(s). Currently used in the Catalog and Cheatsheets Index.`,
    source: 'gamut-labs',
    status: 'updating',
  }}
/>

<Canvas>
  <Story name="LayoutMenu">{(args) => <LayoutMenu {...args} />}</Story>
</Canvas>

<PropsTable story="LayoutMenu" />

## With Selected Item

You can show what page we are on in the menu by passing in the `selectedItem` prop. This should be a slug that will match one of the slugs in `items` within `sections`.

<Canvas>
  <Story name="With Selected Item">
    {(args) => <LayoutMenu {...args} selectedItem="python" />}
  </Story>
</Canvas>

## With Additional Links

Additional links outside of an accordion can be added as `children`. You can use the `SectionItemLink` component (pass an `onClick` prop and link text as `children`) to match the styling of the accordion items. You can also use the `SelectedSectionItem` component (pass text as `children`) to match the styling of a selected item.

<Canvas>
  <Story name="With Additional Links">
    {(args) => (
      <LayoutMenu {...args}>
        <Box pb={32}>
          <SelectedSectionItem>Full Catalog</SelectedSectionItem>
        </Box>
        <Box pb={32}>
          <SectionItemLink
            onClick={() =>
              (window.location.href =
                'https://www.codecademy.com/explore/sorting-quiz')
            }
          >
            Where do I begin?
          </SectionItemLink>
        </Box>
      </LayoutMenu>
    )}
  </Story>
</Canvas>

## With Additional Links on Top and Bottom

Another way to add additional links outside of the accordion section is to pass an array of items that each contain a `title`, `slug`, and `onClick` to `topLinkSections`. Each of these items will become a link on top of the accordion section.

<Canvas>
  <Story name="With Additional Links on Top and Bottom">
    {(args) => (
      <LayoutMenu
        {...args}
        selectedItem="top-link"
        topLinkSections={[
          {
            title: 'A top link!',
            slug: 'top-link',
            href: '/not-a-real-link',
            onClick: () => null,
          },
          {
            title: 'Another link!',
            slug: 'test-link-2',
            href: '/do-not-press-me',
            onClick: () => null,
          },
        ]}
      >
        <Box pb={32}>
          <SectionItemLink
            onClick={() =>
              (window.location.href =
                'https://www.codecademy.com/explore/sorting-quiz')
            }
          >
            Where do I begin?
          </SectionItemLink>
        </Box>
      </LayoutMenu>
    )}
  </Story>
</Canvas>

## With Set Menu Height

<Canvas>
  <Story name="With Set Menu Height">
    {(args) => (
      <LayoutMenu
        {...args}
        sections={[
          {
            title: 'Languages',
            slug: 'language',
            items: [
              {
                title: 'Python',
                slug: 'python',
              },
              {
                title: 'HTML & CSS',
                slug: 'html-css',
              },
              {
                title: 'JavaScript',
                slug: 'javascript',
              },
              {
                title: 'SQL',
                slug: 'sql',
              },
              {
                title: 'C++',
                slug: 'c-plus-plus',
              },
              {
                title: 'Java',
                slug: 'java',
              },
              {
                title: 'R',
                slug: 'r',
              },
              {
                title: 'Go',
                slug: 'go',
              },
              {
                title: 'C#',
                slug: 'c-sharp',
              },
              {
                title: 'PHP',
                slug: 'php',
              },
              {
                title: 'Ruby',
                slug: 'ruby',
              },
              {
                title: 'Swift',
                slug: 'swift',
              },
              {
                title: 'Bash/Shell',
                slug: 'bash',
              },
              {
                title: 'Kotlin',
                slug: 'kotlin',
              },
              {
                title: 'C',
                slug: 'c',
              },
            ],
          },
          {
            title: 'Subjects',
            slug: 'subject',
            items: [
              {
                title: 'Computer Science',
                slug: 'computer-science',
              },
              {
                title: 'Machine Learning',
                slug: 'machine-learning',
              },
              {
                title: 'Data Visualization',
                slug: 'data-visualization',
              },
              {
                title: 'Web Development',
                slug: 'web-development',
              },
              {
                title: 'Web Design',
                slug: 'web-design',
              },
              {
                title: 'Data Science',
                slug: 'data-science',
              },
              {
                title: 'Mobile Development',
                slug: 'mobile-development',
              },
              {
                title: 'Developer Tools',
                slug: 'developer-tools',
              },
              {
                title: 'Code Foundations',
                slug: 'code-foundations',
              },
              {
                title: 'Game Development',
                slug: 'game-development',
              },
              {
                title: 'Interview Prep',
                slug: 'interview-prep',
              },
              {
                title: 'Cybersecurity',
                slug: 'cybersecurity',
              },
            ],
          },
        ]}
      >
        <Box pb={32}>
          <SelectedSectionItem>Full Catalog</SelectedSectionItem>
        </Box>
        <Box pb={32}>
          <SectionItemLink
            onClick={() =>
              (window.location.href =
                'https://www.codecademy.com/explore/sorting-quiz')
            }
          >
            Where do I begin?
          </SectionItemLink>
        </Box>
      </LayoutMenu>
    )}
  </Story>
</Canvas>
