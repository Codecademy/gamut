import { Box, ContentContainer, Text } from '@codecademy/gamut/src';
import { GlobalPage } from '@codecademy/gamut-labs/src';
import title from '@codecademy/macros/lib/title.macro';
import { Canvas, Meta, Story } from '@storybook/addon-docs/blocks';
import LinkTo from '@storybook/addon-links/react';

import { PropsTable } from '~styleguide/blocks';

<Meta
  title={title}
  component={GlobalPage}
  decorators={[
    (Story) => {
      return <Box style={{ width: '100%' }}>{Story()}</Box>;
    },
  ]}
  parameters={{
    layout: 'padded',
    status: 'updating',
    docs: { inlineStories: false, iframeHeight: 500 },
    subtitle:
      'Global page consisting of children between a GlobalHeader and GlobalFooter, optionally with a background color.',
  }}
/>

<Canvas>
  <Story
    name="GlobalPage"
    args={{
      footer: {
        onClick: () => {},
        userGeo: 'US',
      },
      header: {
        action: () => {},
        type: 'free',
        user: {
          avatar:
            'https://www.gravatar.com/avatar/1c959a9a1e2f9f9f1ac06b05cccc1d60?s=150&d=retro',
          displayName: 'Codey',
        },
      },
    }}
  >
    {(args) => (
      <Box position="relative" zIndex={0}>
        <GlobalPage {...args}>
          <ContentContainer>
            <Text as="h1">Page content goes here!</Text>
          </ContentContainer>
        </GlobalPage>
      </Box>
    )}
  </Story>
</Canvas>

General-use container for a full page consisting of a header, some page contents, and a footer.
The optional background color will apply behind all of those elements.

<PropsTable story="GlobalPage" />

> Many pages use <LinkTo kind='Layouts/ContentContainer'>ContentContainer</LinkTo> to contain children at the same responsive widths as the header and footer.
