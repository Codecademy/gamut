import {
  Accordion,
  AccordionArea,
  AccordionButton,
} from '@codecademy/gamut/src';
import { Meta, Props, Preview, Story } from '@storybook/addon-docs/dist/blocks';
import { select } from '@storybook/addon-knobs';
import { useState } from 'react';

import { StoryStatus } from '../../../Blocks';

<Meta
  component={Accordion}
  subcomponents={{ AccordionButton }}
  title="Molecules/Accordion"
/>

# Accordion

<StoryStatus status="volatile" />

A molecule consisting of a "top" section and an expandable body,
such as a "hint" section in the LE or a list of department jobs on a careers page.

<Preview>
  <Story name="Accordion">
    <Accordion
      expanded={expanded}
      size={select('Size', ['normal', 'large'], undefined)}
      theme={select('Theme', ['blue', 'plain', 'yellow'], undefined)}
      top="Click me!"
    >
      Hidden treasure!
    </Accordion>
  </Story>
</Preview>

<Props of={Accordion} />

## AccordionArea

If you'd like a "controlled" component equivalent, you can manually use the `AccordionArea` and `AccordionButton` sub-components.
Most accordions should use an `AccordionButton`; other forms of buttons are acceptable for custom accordions.

<Preview>
  <Story name="Accordion">
    {() => {
      const expanded = boolean('Expanded');
      return (
        <AccordionArea
          expanded={expanded}
          top={<AccordionButton expanded={expanded}>Click me!</AccordionButton>}
        >
          Hidden treasure!
        </AccordionArea>
      );
    }}
  </Story>
</Preview>

<Props of={AccordionArea} />

> Note that accordions will fit to `100%` of the the height of their parent container.
> If you need a fixed height container, wrap the accordion in a `<div>`.
