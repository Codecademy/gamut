import {
  Accordion,
  AccordionArea,
  AccordionButton,
} from '@codecademy/gamut/src';
import { Meta, Props, Canvas, Story } from '@storybook/addon-docs/dist/blocks';
import { boolean, select } from '@storybook/addon-knobs';
import { useState } from 'react';

import { StoryStatus } from '~styleguide/blocks';

<Meta
  component={Accordion}
  subcomponents={{ AccordionArea, AccordionButton }}
  title="Molecules/Accordion"
/>

# Accordion

<StoryStatus status="volatile" />

A molecule consisting of a "top" section and an expandable body,
such as a "hint" section in the LE or a list of department jobs on a careers page.

<Canvas withSource="open">
  <Story name="Accordion">
    {(args) => (
      <Accordion
        size={select('Size', ['normal', 'large'], undefined)}
        theme={select('Theme', ['blue', 'plain', 'yellow'], undefined)}
        top="Click me!"
      >
        Hidden treasure!
      </Accordion>
    )}
  </Story>
</Canvas>

<Props of={Accordion} />

> Note that accordions will fit to `100%` of the the height of their parent container.
> If you need a fixed height container, wrap the accordion in a `<div>`.

## AccordionArea

If you'd like a "controlled" component equivalent, you can manually use the `AccordionArea` and `AccordionButton` sub-components.
Most accordions should use an `AccordionButton`; other forms of buttons are acceptable for custom accordions.

<Canvas>
  <Story name="AccordionArea">
    {(args) => {
      const expanded = boolean('Expanded');
      return (
        <AccordionArea
          expanded={expanded}
          top={<AccordionButton expanded={expanded}>Click me!</AccordionButton>}
        >
          Hidden treasure!
        </AccordionArea>
      );
    }}
  </Story>
</Canvas>

<Props of={AccordionArea} />
