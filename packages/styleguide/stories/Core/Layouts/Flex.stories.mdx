import {
  Meta,
  ArgsTable,
  Canvas,
  Story,
  Source,
} from '@storybook/addon-docs/blocks';
import dedent from 'ts-dedent';
import { StoryStatus } from '~styleguide/blocks';
import { colors, standardColors } from '@codecademy/gamut-styles';
import { Flex, FlexItem } from '@codecademy/gamut-labs/src';
import { BulbIcon } from '@codecademy/gamut-icons';
import { Box as BoxElement, defaultGridProps } from './Elements';
import { select, boolean, number } from '@storybook/addon-knobs';

<Meta
  title="Layouts/Flex (Labs)"
  component={Flex}
  argTypes={{
    alignItems: {
      table: {
        type: false,
      },
      control: {
        type: 'select',
        options: [
          'stretch',
          'center',
          'end',
          'flex-end',
          'flex-start',
          'start',
          'baseline',
          'normal',
          'self-end',
          'self-start',
        ],
      },
    },
    alignSelf: {
      table: {
        type: false,
      },
      control: {
        type: 'select',
        options: [
          'stretch',
          'center',
          'end',
          'flex-end',
          'flex-start',
          'start',
          'baseline',
          'normal',
          'self-end',
          'self-start',
        ],
      },
    },
    height: {
      table: {
        type: false,
      },
      control: {
        type: 'text',
      },
    },
    width: {
      table: {
        type: false,
      },
      control: {
        type: 'text',
      },
    },
    display: {
      description: 'Maps to the CSS display property',
      table: {
        type: false,
      },
      control: {
        type: 'select',
        options: ['none', 'block', 'flex', 'inline-flex'],
      },
    },
    flexDirection: {
      table: {
        type: false,
      },
      control: {
        type: 'select',
        options: ['column', 'column-reverse', 'row', 'row-reverse'],
      },
    },
    flexGrow: {
      table: {
        type: false,
      },
      control: {
        type: 'text',
      },
    },
    flexShrink: {
      table: {
        type: false,
      },
      control: {
        type: 'text',
      },
    },
    flexBasis: {
      table: {
        type: false,
      },
      control: {
        type: 'text',
      },
    },
    justifyContent: {
      table: {
        type: false,
      },
      control: {
        type: 'select',
        options: [
          'space-around',
          'space-between',
          'space-evenly',
          'stretch',
          'center',
          'end',
          'flex-end',
        ],
      },
    },
    flexWrap: {
      table: {
        type: false,
      },
      control: {
        type: 'select',
        options: ['nowrap', 'wrap', 'wrap-reverse'],
      },
    },
  }}
/>

# Flex

<StoryStatus status="stable" />

A flex box primitive that allows you easily create flex-based layouts without custom CSS

<Canvas>
  <Story
    name="Flex"
    args={{
      width: '100%',
      height: '100px',
    }}
  >
    {(args) => (
      <Flex
        {...args}
        style={{ backgroundColor: colors.gray[300], padding: '1rem' }}
      >
        <FlexItem>
          <BoxElement height="100%" width="100%">
            Element 1
          </BoxElement>
        </FlexItem>
        <FlexItem>
          <BoxElement height="100%" width="100%">
            Element 2
          </BoxElement>
        </FlexItem>
      </Flex>
    )}
  </Story>
</Canvas>

<ArgsTable story="Flex" />

## FlexItem

`FlexItem` is an extension of the `Flex` primitive, doesn't default to `display: flex`

It is ideal for usage as a child to the `Flex` component, since it provides all of the same flex utilities.

<Canvas withSource="none">
  <Story name="FlexItem">
    {(args) => (
      <Flex style={{ backgroundColor: colors.gray[300], padding: '1rem' }}>
        <FlexItem
          as={BulbIcon}
          flexShrink={0}
          size={30}
          style={{ marginRight: '1rem' }}
        />
        <FlexItem flexGrow={1}>
          <Text size="lg">
            Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do
            eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim
            ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut
            aliquip ex ea commodo consequat.
          </Text>
        </FlexItem>
      </Flex>
    )}
  </Story>
</Canvas>

<Source
  language="tsx"
  dark="true"
  code={`
<Flex>
  <FlexItem
    as={BulbIcon}
    flexShrink={0}
    size={30}
    style={{ marginRight: '1rem' }}
  />
  <FlexItem flexGrow={1}>
    <Text size="lg">
      Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do
      eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad
      minim veniam, quis nostrud exercitation ullamco laboris nisi ut
      aliquip ex ea commodo consequat.
    </Text>
  </FlexItem>
</Flex>
`}
/>
