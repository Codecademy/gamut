import {
  Meta,
  Props,
  Preview,
  Story,
  IconGallery,
  IconItem,
} from '@storybook/addon-docs/dist/blocks';
import { values } from 'lodash';
import { StoryStatus } from '~styleguide/blocks';
import { LayoutGrid, Column, Text } from '@codecademy/gamut/src';
import * as icons from '@codecademy/gamut-icons/src';
import { AlertIcon } from '@codecademy/gamut-icons/src';

import {
  VENDOR,
  LEARNING_ENVIRONMENT,
  ALL_ICONS,
  ICON_SLUGS,
} from './constants';
import { defaultColor, presetColors } from '../../../../helpers';

<Meta
  title="Atoms/Icons"
  component={AlertIcon}
  argTypes={{
    iconName: { control: { type: 'select', options: ICON_SLUGS } },
    size: { control: { type: 'range', min: 10, max: 400, step: 2 } },
    path: { table: { disable: true } },
    color: { control: { type: 'color', presetColors: presetColors } },
  }}
  args={{
    iconName: ICON_SLUGS[0],
    size: 64,
    color: defaultColor,
  }}
/>

# Icons

<StoryStatus status="stable" />

## Contributing

We use a subset of [streamline icons](https://app.streamlineicons.com/streamline-regular), mainly the Regular set. If you cannot find the Icon you would like
in the ones that we have specified here please follow these steps to add one.

1. With design's approval pick an Icon ideally from `Streamline Regular`, if you need a filled icon you may pick from `Streamline Bold` but we would prefer the former.
   If you need something at exists in neither please consult design to create a custom one.
2. Select the Outline version of the icon as opposed to stroke. You will not be able to get this from the App, and you must find the icon's outline version in our assets.
   you can check to see if an Icon is stroke by if it has any `stoke-width: 1.5px` rules in it's markup, outline will not have this.
3. If it doesnâ€™t already have it add the streamline slug (IE: `delete-1`) as the SVG title if it does not already exist.
4. Add the svg asset to `packages/gamut-icons/src/svg` with the following naming convention `<ICON_NAME>-icon.svg`.
5. Run `yarn build-all && yarn start` to see it be added to Storybook. It will by default be added to the `Interface` section alphabetically, however you may change this in the config.
6. Make a PR describing where you got the Icon, what it's use is and a description of it's naming choice.

## Sandbox

<Preview withSource="open">
  <Story name="Editable Icon">
    {({ iconName, backgroundColor, color, size }) => {
      const IconComponent = icons[iconName];
      return (
        <IconComponent
          size={size}
          style={{
            color: color,
          }}
        />
      );
    }}
  </Story>
</Preview>

<Props story="Editable Icon" />

## Usage

```tsx
import { AlertIcon } from '@codecademy/gamut-icons';

const MyComponent = () => <AlertIcon />;
```

## Icons

### Interface

General user interface icons with affordances

<IconGallery>
  {Object.entries(ALL_ICONS).map(([iconName, Icon]) => (
    <IconItem key={iconName} name={iconName}>
      <Icon />
    </IconItem>
  ))}
</IconGallery>

### Learning Enviornment

Icons that have specific meanings relative to our course content.

<IconGallery>
  {Object.entries(LEARNING_ENVIRONMENT).map(([iconName, Icon]) => (
    <IconItem key={iconName} name={iconName}>
      <Icon />
    </IconItem>
  ))}
</IconGallery>

### Vendor

Vendor specific icons.

<IconGallery>
  {Object.entries(VENDOR).map(([iconName, Icon]) => (
    <IconItem key={iconName} name={iconName}>
      <Icon />
    </IconItem>
  ))}
</IconGallery>
