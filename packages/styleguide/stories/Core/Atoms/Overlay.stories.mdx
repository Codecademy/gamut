import { Meta, Props, Preview, Story } from '@storybook/addon-docs/dist/blocks';
import { StoryStatus } from '../../../Blocks';

import { Overlay, Button, Container, Heading } from '@codecademy/gamut/src';
import { colors } from '@codecademy/gamut-styles/utils/variables';
import { useState } from '@storybook/addons';

<Meta title="Core|Atoms/Overlay" component={Overlay} />

# Overlay

<StoryStatus status="ready" />

Overlay primitives are controlled components that are told whether
they're open by their parent. They're very basic and
don't have animations defined.

Unlike the legacy `Modal` implementations in the monolith, this: - always
assumes viewport is locked, by making content `position: fixed` - cannot override
contentProps, animation, or shouldFocusOnMount

Use this overlay only for actual 'overlay' content that takes
up the full screen. Do not use it for dropdowns or other small
interactive items.

Note that this atom does not come with styles defined. If you need styles such as
a background behind content, see `Modal`.

<Preview>
  <Story name="Overlay" parameters={{ storyshots: { disable: true } }}>
    {() => {
      const [open, setOpen] = useState(false);
      return (
        <React.Fragment>
          <Button onClick={() => setOpen(true)}>Open Overlay</Button>
          <Container>
            <Overlay
              clickOutsideCloses
              isOpen={open}
              onRequestClose={() => setOpen(false)}
            >
              <Container
                column
                style={{
                  backgroundColor: colors.white,
                  padding: '1rem',
                  boxShadow: `1px 1px 5px ${colors.gray[500]}`,
                }}
              >
                <Heading as="h1" fontSize="lg">
                  Hooray!
                </Heading>
                <Button onClick={() => setOpen(false)}>Close Me</Button>
              </Container>
            </Overlay>
          </Container>
        </React.Fragment>
      );
    }}
  </Story>
</Preview>

<Props of={Overlay} />
