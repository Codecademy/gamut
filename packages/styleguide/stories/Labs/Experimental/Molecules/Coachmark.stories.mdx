import { FillButton, FlexBox } from '@codecademy/gamut/src';
import { Coachmark, Text } from '@codecademy/gamut-labs/src';
import title from '@codecademy/macros/lib/title.macro';
import { Canvas, Meta, Story } from '@storybook/addon-docs/dist/blocks';

import { PropsTable } from '~styleguide/blocks';

<Meta
  title={title}
  component={Coachmark}
  parameters={{
    subtitle:
      'A Coachmark helps bring attention to a CTA by showing a popover around that element.',
    source: 'gamut-labs',
    status: 'volatile',
  }}
  args={{
    renderPopover: () => (
      <FlexBox flexDirection="column" padding={16} alignItems="flex-start">
        <Text marginBottom={8}>You should click the button.</Text>
        <FillButton
          onClick={() => {
            setShouldShow(false);
          }}
          size="small"
        >
          Got it
        </FillButton>
      </FlexBox>
    ),
    shouldShow: true,
  }}
/>

<Canvas>
  <Story name="Coachmark">
    {(args) => {
      return (
        <Coachmark {...args}>
          <FillButton onClick={() => {}}>A Button</FillButton>
        </Coachmark>
      );
    }}
  </Story>
</Canvas>

<PropsTable story="Coachmark" />

## Coachmark Customizations

Using the popoverProps, you can customize the look of the coachmark.
For example, you can add an outline and pattern, as shown below.

<Canvas>
  <Story
    name="Coachmark Customizations"
    args={{
      popoverProps: {
        beak: 'left',
        outline: true,
        pattern: 'dotsDense',
      },
    }}
  >
    {(args) => {
      return (
        <Coachmark {...args}>
          <FillButton onClick={() => {}}>A Button</FillButton>
        </Coachmark>
      );
    }}
  </Story>
</Canvas>
