import { GearIcon, PersonIcon } from '@codecademy/gamut-icons';
import { AppHeaderSubMenuMobile } from '@codecademy/gamut-labs/src';
import { Canvas, Meta, Story } from '@storybook/addon-docs/dist/blocks';

import { PropsTable } from '~styleguide/blocks';

<Meta
  title="Labs/Experimental/Molecules/AppHeaderSubMenuMobile"
  component={AppHeaderSubMenuMobile}
  parameters={{ layout: 'padded', status: 'volatile' }}
  args={{
    item: {
      id: 'target',
      text: 'Dropdown Target',
      popover: [
        {
          id: 'sublink-1',
          text: 'A Link',
          href: 'http://codecademy.com',
          trackingTarget: '',
          type: 'link',
        },
        {
          id: 'sublink-2',
          text: 'Another Link',
          href: 'http://codecademy.com',
          trackingTarget: '',
          type: 'link',
        },
      ],
      trackingTarget: '',
      type: 'dropdown',
    },
  }}
/>

The AppHeaderSubMenuMobile component is used in the mobile version of the AppHeader.
Similar to in the desktop App Header, when an AppHeaderItem has type "dropdown", clicking on it opens a dropdown menu, on smaller screens, clicking on an AppHeaderItem of type "dropdown" opens the AppHeaderSubMenuMobile component. The component contains a title indicating the category of the menu (ex resources, community) and a list of links (forum, codecademy blog, etc).

## SubMenu for mobile view

<Canvas>
  <Story name="AppHeaderSubMenuMobile">
    {(args) => <AppHeaderSubMenuMobile {...args} />}
  </Story>
</Canvas>

## SubMenu for mobile view with dividers

<Canvas>
  <Story
    args={{
      item: {
        avatar: '',
        displayName: '',
        id: 'dividers',
        text: 'Dividers',
        popover: [
          [
            {
              id: 'sublink-1',
              icon: PersonIcon,
              text: 'A Link With Icon',
              href: 'http://codecademy.com',
              trackingTarget: '',
              type: 'link',
            },
            {
              id: 'sublink-2',
              icon: GearIcon,
              text: 'Another Link With Icon',
              href: 'http://codecademy.com',
              trackingTarget: '',
              type: 'link',
            },
          ],
          [
            {
              id: 'sublink-3',
              text: 'A Link In Another Section',
              href: 'http://codecademy.com',
              trackingTarget: '',
              type: 'link',
            },
            {
              id: 'sublink-4',
              text: 'Another Link',
              href: 'http://codecademy.com',
              trackingTarget: '',
              type: 'link',
            },
          ],
          [
            {
              id: 'sublink-5',
              text: 'One More Link',
              href: 'http://codecademy.com',
              trackingTarget: '',
              type: 'link',
            },
          ],
        ],
        trackingTarget: '',
        type: 'profile-dropdown',
      },
    }}
    name="AppHeaderSubMenuMobile - Profile"
  >
    {(args) => <AppHeaderSubMenuMobile {...args} />}
  </Story>
</Canvas>

<PropsTable story="AppHeaderSubMenuMobile" />
