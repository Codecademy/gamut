import { IconButton } from '@codecademy/gamut/src';
import { FaviconIcon } from '@codecademy/gamut-icons/src';
import { AppHeader } from '@codecademy/gamut-labs/src';
import { Canvas, Meta, Story } from '@storybook/addon-docs/dist/blocks';

import { PropsTable } from '~styleguide/blocks';

<Meta
  title="Labs/Experimental/Molecules/AppHeader"
  component={AppHeader}
  parameters={{ layout: 'padded', status: 'volatile' }}
  args={{
    items: {
      left: [
        {
          id: 'logo-1',
          href: 'http://codecademy.com',
          pro: false,
          trackingTarget: 'tracking-target',
          type: 'logo',
        },
        {
          id: 'link',
          href: 'http://codecademy.com',
          trackingTarget: 'tracking-target',
          text: 'AppHeaderLink',
          type: 'link',
        },
        {
          id: 'dropdown',
          text: 'AppHeaderDropdown',
          popover: [
            {
              id: 'sublink-1',
              href: 'http://codecademy.com',
              trackingTarget: 'tracking-target',
              text: 'AppHeaderLink',
              type: 'link',
            },
            {
              id: 'sublink-2',
              href: 'http://codecademy.com',
              trackingTarget: 'tracking-target',
              text: 'AppHeaderLink',
              type: 'link',
            },
          ],
          trackingTarget: 'tracking-target',
          type: 'dropdown',
        },
      ],
      right: [
        {
          id: 'render-element',
          renderElement: () => <IconButton icon={FaviconIcon} />,
          type: 'render-element',
        },
        {
          id: 'text-button',
          text: 'TextButton',
          href: 'http://codecademy.com',
          trackingTarget: 'tracking-target',
          type: 'text-button',
        },
        {
          id: 'fill-button',
          text: 'FillButton',
          href: 'http://codecademy.com',
          trackingTarget: 'tracking-target',
          type: 'fill-button',
        },
      ],
    },
  }}
/>

AppHeader component for use in GlobalHeader. Uses AppBar to arrange items to the left or right side of the navigation bar. These items are passed in as objects of type AppHeaderItem, and map to AppHeaderLogo, AppHeaderLink, AppHeaderDropdown, TextButton, FillButton, or a custom component passed in by the consumer.

AppHeader is not intended to be used alone, but rather by GlobalHeader which determines the composition of each of the Pro, Free, and Anon versions of Codecademy's global navigation header and passes the corresponding items to AppHeader.

## AppHeader

<Canvas>
  <Story name="AppHeader">{(args) => <AppHeader {...args} />}</Story>
</Canvas>

<PropsTable story="AppHeader" />
