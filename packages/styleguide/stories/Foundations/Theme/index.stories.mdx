import { Anchor, Background, Box } from '@codecademy/gamut/src';
import { Text } from '@codecademy/gamut-labs/src';
import { ColorMode } from '@codecademy/gamut-styles/src';
import title from '@codecademy/macros/lib/title.macro';
import { Meta, Story } from '@storybook/addon-docs/dist/blocks';
import { BooleanControl } from '@storybook/components';
import { useState } from 'react';

import { DataTable } from '~styleguide/blocks';

import * as TABLES from './tables';

<Meta
  title={title}
  parameters={{
    subtitle: 'The Emotion theme for codecademy',
    status: 'stable',
    source: 'gamut-styles',
  }}
/>

All Emotion components we build have access to a typed theme object allowing you to have direct access to all the design tokens without any imports.

These are available through context or directly as the `theme` prop on every styled component.

```tsx
import styled from '@emotion/styled';

const styles = styled.div`
  blue: ${({ theme }) => theme.colors.blue};
`;
```

Or by importing the object from `@codecademy/gamut-styles` if you are not using a `ThemeProvider` in your app.

```tsx
import { css } from '@emotion/react';
import { theme } from '@codecademy/gamut-styles';

const myStyles = css`
  font-size: ${theme.fontSize[14]};
`;
```

## Color Modes

We've created several color modes by default for light and dark context. Each color is a semantic alias for a color on our full color palette.

export const ColorModeExample = () => {
  const [mode, setMode] = useState(false);
  return (
    <Box marginY={16} marginBottom={32}>
      <Box fontWeight="title" marginBottom={8}>
        Use Dark Mode <BooleanControl value={mode} onChange={setMode} />
      </Box>
      <ColorMode mode={mode ? 'dark' : 'light'}>
        <Box
          backgroundColor="background"
          textColor="text"
          padding={32}
          borderColor="text"
          borderStyle="solid"
          borderWidth="1px"
        >
          <Text as="h1" fontSize={26} fontWeight="title" marginBottom={16}>
            Light Mode
          </Text>
          <Text as="p" marginBottom={16}>
            Lorem ipsum dolor sit amet,{' '}
            <Anchor>consectetur adipiscing elit</Anchor>, sed do eiusmod tempor
            incididunt ut labore et dolore magna aliqua. Ut enim ad minim
            veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex
            ea commodo consequat.
          </Text>
        </Box>
      </ColorMode>
    </Box>
  );
};

<ColorModeExample />

### Automatic Mode Swaps

There may be times where must specify a specifc background color. We've added a `<Background />` component to detect the contrast requirements of the current color mode, and detect if it needs to be changed for the specific color allowing you to be sure that all components inside your background will meet contrast requirements and designs without any extra configuration.

<Background backgroundColor="hyper">
  <Box
    textColor="text"
    padding={32}
    borderColor="text"
    borderStyle="solid"
    borderWidth="1px"
  >
    <Text as="h1" fontSize={26} fontWeight="title" marginBottom={16}>
      Hyper
    </Text>
    <Text as="p" marginBottom={16}>
      Lorem ipsum dolor sit amet, <Anchor>consectetur adipiscing elit</Anchor>,
      sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim
      ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip
      ex ea commodo consequat.
    </Text>
    <Background backgroundColor="paleBlue">
      <Box
        textColor="text"
        padding={32}
        borderColor="text"
        borderStyle="solid"
        borderWidth="1px"
      >
        <Text as="h1" fontSize={26} fontWeight="title" marginBottom={16}>
          PaleBlue
        </Text>
        <Text as="p" marginBottom={16}>
          Lorem ipsum dolor sit amet,{' '}
          <Anchor>consectetur adipiscing elit</Anchor>, sed do eiusmod tempor
          incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam,
          quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea
          commodo consequat.
        </Text>
      </Box>
    </Background>
  </Box>
</Background>

### Light Mode

<Story name="light mode">
  <DataTable {...TABLES.lightMode} />
</Story>

**Example**

### Dark Mode

<Story name="dark mode">
  <DataTable {...TABLES.darkMode} />
</Story>

**Example**

## Color

**Key**: `theme.colors`

All current visual identity colors are available on the `colors` key on the Theme object, this includes named standard colors and their respective swatches. This object will not include older or more specific design tokens; if you need to access these color variables please check out the [full colors documentation](/?path=/docs/foundations-colors--standard)

### Standard Colors

Standard color atoms we select from in creating designs. All colors on Codecademy properties should adhere to these. Remember your accessibility contrast requirements too!

<Story name="colors">
  <DataTable {...TABLES.color} />
</Story>

### Swatches

Swatch colors are accessible with a dashcase key `theme.colors['${color}-${weight}']`. Here's a full list of all the swatches available.

<DataTable {...TABLES.swatch} />

## Typography

export const sampleText = 'Example Text';

export const lorem = `Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.
`;

### Font Family

**Key**: `theme.fontFamily`

<Story name="fontFamily">
  <DataTable {...TABLES.fontFamily} />
</Story>

### Font Size

**Key**: `theme.fontSize`

<Story name="fontSize">
  <DataTable {...TABLES.fontSize} />
</Story>

### Font Weight

**Key**: `theme.fontWeight`

<Story name="fontWeight">
  <DataTable {...TABLES.fontWeight} />
</Story>

### Line Height

**Key**: `theme.lineHeight`

<Story name="lineHeight">
  <DataTable {...TABLES.lineHeight} />
</Story>

## Space

### Spacing

**Key**: `theme.spacing`

<Story name="spacing">
  <DataTable {...TABLES.space} />
</Story>

## Layout

### Breakpoints

**Key**: `theme.breakpoints`

<Story name="breakpoints">
  <DataTable {...TABLES.breakpoint} />
</Story>

## Shadows

### Box Shadow

**Key**: `theme.boxShadows`

<Story name="boxShadows">
  <DataTable {...TABLES.boxShadow} />
</Story>
