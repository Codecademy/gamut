import { Anchor, Box, Column, LayoutGrid, Text } from '@codecademy/gamut/src';
import { Background } from '@codecademy/gamut-styles/src';
import title from '@codecademy/macros/lib/title.macro';
import { Canvas, Meta, Story } from '@storybook/addon-docs/blocks';
import { startCase } from 'lodash';

import { LinkTo, PropsTable } from '~styleguide/blocks';

<Meta
  title={title}
  component={Anchor}
  parameters={{
    subtitle: `Use this component for basic inline text links.`,
    status: 'current',
    source: 'gamut',
    design: {
      type: 'figma',
      url:
        'https://www.figma.com/file/ReGfRNillGABAj5SlITalN/%F0%9F%93%90-Gamut?node-id=992%3A3',
    },
  }}
  args={{
    href: 'https://www.youtube.com/watch?v=dQw4w9WgXcQ',
    target: '_blank',
    fontWeight: 'title',
  }}
/>

<br />

Anchors / Links are meant to be used in rich text or in places where <LinkTo id="atoms-button--cta-button">Buttons</LinkTo> do not fit. These components like `<Button />` components can either be an `<a />` or a `<button />` depending on how they are configured without any visual difference. All Anchors will automatically detect which HTML element they should render as automatically to maintain valid and semantic HTML.

```tsx
import { Anchor } from '@codecademy/gamut';

<Anchor href="https://google.com">I am a link</Anchor>;
```

<br />

## Variants

There are three main varaints for Anchor links that are meant to be used in specific contexts. Their default states all a visually distinct. Please refer to the (design guidelines)[https://www.figma.com/file/N6TfoPI5OA7GanX6Zl8nWj/]

- `inline` (default): For use in paragraphs, underlined for extra readability to stand out more beyond just the different color.
- `interface`: The menu link should be used in instances where the context of the link makes it clear that it is clickable. Examples of these contexts include our catalog menu, navigation bar, and footer.
- `standard`: For use outside of a ‘menu’ instance where (for a good reason) you can’t use the Text Button with the included button-padding.

export const variants = ['inline', 'interface', 'standard'];

<Story name="modes">
  {() => (
    <LayoutGrid>
      <Column size={6}>
        <Background
          p={32}
          bg="white"
          display="grid"
          gridTemplateColumns="repeat(3, 1fr)"
        >
          {variants.map((variant) => (
            <Box key={`${variant}-light`}>
              <Text as="p" fontWeight="title">
                {startCase(variant)}
              </Text>
              <Anchor mr={8} variant={variant} href={`#${variant}`}>
                Click Me
              </Anchor>
            </Box>
          ))}
        </Background>
      </Column>
      <Column size={6}>
        <Background
          p={32}
          bg="navy"
          display="grid"
          gridTemplateColumns="repeat(3, 1fr)"
        >
          {variants.map((variant) => (
            <Box key={`${variant}-dark`}>
              <Text as="p" fontWeight="title">
                {startCase(variant)}
              </Text>{' '}
              <Anchor mr={8} variant={variant} href={`#${variant}`}>
                Click Me
              </Anchor>
            </Box>
          ))}
        </Background>
      </Column>
    </LayoutGrid>
  )}
</Story>

<br />

## Color Modes

Anchor elements respond to the current <LinkTo id="foundations-color-mode--page">Color Mode</LinkTo> they are used in. This means you do not have to configure a prop to ensure that they meet contrast and design guidelines. Each variant will have consistent and inverse behavior in different contexts.

This allows you to safely create molecules and other components without worrying about their context.

```tsx
import { Anchor } from '@codecademy/gamut';
import { ColorMode } from '@codecademy/gamut-styles';

<ColorMode mode="light">
  <Anchor>Light Mode</Anchor>
</ColorMode>


<ColorMode mode="dark">
  <Anchor>Dark Mode</Anchor>
</ColorMode>
```

<br />

## Code Playground

Edit attributes and see what’s possible to do with this component or get the exact output you want.

<Canvas>
  <Story name="Anchor">
    {(args) => {
      return <Anchor {...args}>I am a cool link</Anchor>;
    }}
  </Story>
</Canvas>

<PropsTable story="Anchor" />
