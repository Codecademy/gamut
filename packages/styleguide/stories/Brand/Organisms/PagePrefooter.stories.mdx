import { PagePrefooter } from '@codecademy/gamut-labs/src';
import { Background } from '@codecademy/gamut-styles/src';
import title from '@codecademy/macros/lib/title.macro';
import { PropsTable } from '@codecademy/storybook-addon-variance';
import { Canvas, Meta, Story } from '@storybook/addon-docs/blocks';

<Meta
  title={title}
  component={PagePrefooter}
  args={{
    title:
      "I'd rather be listening to Grammy-Award winning 1999 hit Smooth by Santana",
    desc:
      'feat. [Rob Thomas of Matchbox Twenty](https://en.wikipedia.org/wiki/Rob_Thomas_(musician)) off the multi-platinum album',
    cta: {
      text: 'Supernatural',
      href:
        'https://open.spotify.com/album/10aiDpdFGyfCFEcqpx6XTq?si=xR1nDqVqROK6KYM8J-l_rw',
      onClick: () => {
        // eslint-disable-next-line no-console
        console.log('You could add event tracking here');
      },
    },
    mode: 'light',
  }}
  parameters={{
    subtitle: `Prefooter component for landing pages created in Contentful. All props are optional.`,
    status: 'updating',
  }}
/>

<Canvas>
  <Story name="Prefooter">{(args) => <PagePrefooter {...args} />}</Story>
</Canvas>

<PropsTable story="Prefooter" />

## Regular Button

Pass `buttonType` as `fill` to show a `FillButton` instead of the larger `CTAButton`. Text should always be Call to Action text regardless of button type.

<Canvas>
  <Story name="Regular Button">
    {(args) => (
      <PagePrefooter {...args} cta={{ ...args.cta, buttonType: 'fill' }} />
    )}
  </Story>
</Canvas>

## Without Button

Omit the `cta` prop to not show a button.

<Canvas>
  <Story name="Without Button">
    {(args) => <PagePrefooter {...args} cta={undefined} />}
  </Story>
</Canvas>

## Without Description

Omit the `desc` prop to not show a description.

<Canvas>
  <Story name="Without Description">
    {(args) => <PagePrefooter {...args} desc={undefined} />}
  </Story>
</Canvas>

## Dark Mode

Automatically adjusts to the current Color Mode. No configuration is needed to meet contrast and design guidelines.

<Canvas>
  <Story name="Dark Mode">
    {(args) => (
      <Background bg="navy" p={16}>
        <PagePrefooter {...args} />
      </Background>
    )}
  </Story>
</Canvas>
