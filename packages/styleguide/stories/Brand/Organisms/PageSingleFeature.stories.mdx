import { PageSingleFeature } from '@codecademy/gamut-labs/src';
import { Background } from '@codecademy/gamut-styles/src';
import title from '@codecademy/macros/lib/title.macro';
import { PropsTable } from '@codecademy/storybook-addon-variance';
import { Canvas, Meta, Story } from '@storybook/addon-docs/blocks';

<Meta
  title={title}
  component={PageSingleFeature}
  args={{
    title: 'Build a Better Future',
    desc:
      'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Amet dolor in porta adipiscing euismod id sodales velit. Consequat, nibh quam suscipit pharetra, lacus nam. Elit ullamcorper magna ultricies cursus tempus amet. Urna, sagittis lobortis sit quis nibh facilisis euismod dolor. Dolor iaculis congue sit pharetra. A lorem sed dapibus est vel eros mauris malesuada tortor.',
    onAnchorClick: () =>
      // eslint-disable-next-line no-console
      console.log('You clicked me an anchor tag inside Markdown!'),
    cta: {
      text: 'Click Me',
      href:
        'https://open.spotify.com/album/10aiDpdFGyfCFEcqpx6XTq?si=xR1nDqVqROK6KYM8J-l_rw',
      onClick: () => {
        // eslint-disable-next-line no-console
        console.log('You could add event tracking here');
      },
    },
    media: {
      type: 'image',
      src:
        'https://cdn.mos.cms.futurecdn.net/wtqqnkYDYi2ifsWZVW2MT4-1200-80.jpg',
      alt: 'beach',
    },
  }}
  parameters={{
    subtitle: `
      Single Feature component for landing pages created in Contentful.
      All props are optional.
    `,
    status: 'updating',
  }}
/>

<Canvas>
  <Story name="Single Feature">
    {(args) => <PageSingleFeature {...args} />}
  </Story>
</Canvas>

<PropsTable story="Single Feature" />

## Video

Change the `media` prop to `type: video` and pass required video props to show a video in the feature.

<Canvas>
  <Story name="Video">
    {(args) => (
      <PageSingleFeature
        {...args}
        media={{
          type: 'video',
          videoUrl: 'https://www.youtube.com/watch?v=dQw4w9WgXcQ',
          videoTitle: 'Workout with Rick Sanchez',
          placeholderImage: 'https://placekitten.com/400/300',
          autoplay: true,
        }}
        title="What's it like to be a Software Engineer"
      />
    )}
  </Story>
</Canvas>

## Adjust the Media Width

You can set the number of columns that the media should occupy in a 12 column grid with the `mediaWidth` prop. Only `3`, `4`, `5`, `6` are currently supported.

<Canvas>
  <Story name="Adjust the Media Width">
    {(args) => <PageSingleFeature {...args} mediaWidth={5} />}
  </Story>
</Canvas>

## Regular Button

Pass `buttonType` as `fill` to show a `FillButton` instead of the larger `CTAButton`. Text should always be Call to Action text regardless of button type.

<Canvas>
  <Story name="Regular Button">
    {(args) => (
      <PageSingleFeature
        {...args}
        cta={{ ...args.cta, buttonType: 'fill' }}
        mediaWidth={4}
      />
    )}
  </Story>
</Canvas>

## Without Button

Omit the `cta` prop to not show a button.

<Canvas>
  <Story name="Without Button">
    {(args) => <PageSingleFeature {...args} cta={undefined} mediaWidth={3} />}
  </Story>
</Canvas>

## Without Description

Omit the `desc` prop to not show a description.

<Canvas>
  <Story name="Without Description">
    {(args) => <PageSingleFeature {...args} desc={undefined} mediaWidth={4} />}
  </Story>
</Canvas>

## Eyebrow

Using the `eyebrow` prop, you can add eyebrow text to the hero. The eyebrow will only display if there is also a `title`.

<Canvas>
  <Story name="Eyebrow">
    {(args) => <PageSingleFeature {...args} eyebrow={{ text: 'Codecademy' }} />}
  </Story>
</Canvas>

## Accent Eyebrow

Set `accent` within `eyebrow` to true to change the eyebrow text color to `#1557FF`. If you are using this component with a page or section background color, please ensure that the contrast meets accessibility guidelines.

<Canvas>
  <Story name="Accent Eyebrow">
    {(args) => (
      <PageSingleFeature
        {...args}
        eyebrow={{ text: 'Codecademy', accent: true }}
        textLength="short"
      />
    )}
  </Story>
</Canvas>

## Hide Image On Mobile

Using the `hideImageOnMobile` prop, you can opt to hide the image on mobile. The default behavior is to show the image on mobile. Note: videos are always shown on mobile for accessibility.

<Canvas>
  <Story name="Hide Image on Mobile">
    {(args) => <PageSingleFeature {...args} hideImageOnMobile mediaWidth={5} />}
  </Story>
</Canvas>

## Without Media

Omit the `media` prop to not show any media.

<Canvas>
  <Story name="Without Media">
    {(args) => <PageSingleFeature {...args} media={undefined} />}
  </Story>
</Canvas>

## Dark Mode

Automatically adjusts to the current Color Mode. No configuration is needed to meet contrast and design guidelines.

<Canvas>
  <Story name="Dark Mode">
    {(args) => (
      <Background bg="navy" p={16}>
        <PageSingleFeature {...args} eyebrow="Codecademy" />
      </Background>
    )}
  </Story>
</Canvas>
