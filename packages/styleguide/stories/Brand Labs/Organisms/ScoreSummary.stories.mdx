import { ScoreSummary } from '@codecademy/gamut-labs/src';
import title from '@codecademy/macros/lib/title.macro';
import { PropsTable } from '@codecademy/storybook-addon-variance';
import { Canvas, Meta, Story } from '@storybook/addon-docs/blocks';

<Meta
  component={ScoreSummary}
  parameters={{
    source: 'gamut-labs',
    status: 'volatile',
    subtitle: `Component to show cumulative assessment score on syllabus or cumulative assessment summary page.`,
    design: {
      type: 'figma',
      url:
        'https://www.figma.com/file/qVp1KJgH64ALADNsKZNh3U/Assessments-V2?node-id=0%3A1',
    },
  }}
  args={{
    subScores: {
      'id-1': {
        correct: 2,
        slug: 'command-line',
        title: 'Command Line',
        total: 8,
      },
    },
    totalCorrect: 2,
    totalQuestions: 8,
    pathSlug: 'back-end-engineer-career-path',
    trackSlug: 'becp-22-setting-up-a-dev-environment',
    trackingData: {
      context: 'feedback_page',
      page_name: 'cumulative_assessment',
      path_id: 'path-id',
      target: 'review_concepts',
      track_id: 'track-id',
    },
    untestedSubContent: [
      {
        id: 'id-2',
        slug: 'becp-22-text-editors',
        title: 'Text Editors',
      },
    ],
    trackUserClick: () => {},
    percentToPass: 70,
  }}
  title={title}
/>

<Canvas>
  <Story name="Score Summary">{(args) => <ScoreSummary {...args} />}</Story>
</Canvas>

<PropsTable story="Score Summary" />

This component can be used on a path syllabus or a cumulative assessment summary screen

## Row Layout (default)

This is for use on the syllabus

<Canvas>
  <Story name="Row Layout">
    {(args) => (
      <ScoreSummary
        {...args}
        subScores={{
          'id-1': {
            correct: 5,
            slug: 'becp-22-learn-html-elements-and-structure',
            title: 'Learn HTML: Elements and Structure',
            total: 24,
          },
          'id-2': {
            correct: 4,
            slug: 'wdcp-22-learn-css-selectors-and-visual-roles',
            title: 'Learn CSS: Selectors and Visual Rules',
            total: 20,
          },
          'id-3': {
            correct: 2,
            slug: 'wdcp-22-learn-javascript-syntax-objects',
            title: 'Learn JavaScript Syntax: Objects',
            total: 17,
          },
          'id-4': {
            correct: 2,
            slug: 'wdcp-22-learn-javascript-syntax-arrays',
            title: 'Learn JavaScript Syntax: Arrays',
            total: 5,
          },
        }}
        totalCorrect={9}
        totalQuestions={44}
        trackSlug="becp-22-website-development-fundamentals"
        untestedSubContent={[
          {
            id: 'id-5',
            slug: 'wdcp-22-the-internet-and-web-development',
            title: 'The Internet and Web Development',
          },
          {
            id: 'id-6',
            slug: 'becp-22-going-off-platform-with-html-and-css',
            title: 'Going off-platform with HTML and CSS',
          },
        ]}
      />
    )}
  </Story>
</Canvas>

## Column Layout

This is for use on the cumulative assessment summary page

<Canvas>
  <Story name="Column Layout">
    {(args) => (
      <ScoreSummary
        {...args}
        layout="column"
        subScores={{
          'id-1': {
            correct: 2,
            slug: 'wdcp-22-learn-javascript-syntax-objects',
            title: 'Learn JavaScript Syntax: Objects',
            total: 17,
          },
          'id-2': {
            correct: 2,
            slug: 'wdcp-22-learn-javascript-syntax-arrays',
            title: 'Learn JavaScript Syntax: Arrays',
            total: 5,
          },
          'id-3': {
            correct: 1,
            slug: 'wdcp-22-learn-javascript-syntax-iterators',
            title: 'Learn JavaScript Syntax: Iterators',
            total: 7,
          },
          'id-4': {
            correct: 1,
            slug: 'wdcp-22-learn-javascript-syntax-errors-and-debugging',
            title: 'Learn JavaScript Syntax: Errors and Debugging',
            total: 6,
          },
          'id-5': {
            correct: 0,
            slug: 'wdcp-22-learn-javascript-syntax-loops',
            title: 'Learn JavaScript Syntax: Loops',
            total: 7,
          },
        }}
        totalCorrect={5}
        totalQuestions={42}
        trackSlug="becp-22-javascript-syntax-part-ii"
        untestedSubContent={[
          {
            id: 'id-6',
            slug:
              'wdcp-22-practice-javascript-syntax-arrays-loops-objects-iterators',
            title:
              'Practice JavaScript Syntax: Arrays, Loops, Objects, Iterators',
          },
        ]}
      />
    )}
  </Story>
</Canvas>

## Row Layout with noMaxWidth

Add noMaxWidth prop if you don't want a max width, for example, for use on the career journey syllabus

<Canvas>
  <Story name="Row Layout noMaxWidth">
    {(args) => (
      <ScoreSummary
        {...args}
        noMaxWidth
        subScores={{
          'id-2': {
            correct: 5,
            slug: 'becp-22-learn-html-elements-and-structure',
            title: 'Learn HTML: Elements and Structure',
            total: 24,
          },
          'id-3': {
            correct: 4,
            slug: 'wdcp-22-learn-css-selectors-and-visual-roles',
            title: 'Learn CSS: Selectors and Visual Rules',
            total: 20,
          },
        }}
        totalCorrect={9}
        totalQuestions={44}
        trackSlug=""
        untestedSubContent={[
          {
            id: 'id-5',
            slug: 'wdcp-22-the-internet-and-web-development',
            title: 'The Internet and Web Development',
          },
          {
            id: 'id-6',
            slug: 'becp-22-going-off-platform-with-html-and-css',
            title: 'Going off-platform with HTML and CSS',
          },
        ]}
      />
    )}
  </Story>
</Canvas>

## Description

Optional description text - shown here in row layout

<Canvas>
  <Story name="Description">
    {(args) => (
      <ScoreSummary
        {...args}
        description="Try again! You can take the test again in 24 hours."
        subScores={{
          'id-2': {
            correct: 5,
            slug: 'becp-22-learn-html-elements-and-structure',
            title: 'Learn HTML: Elements and Structure',
            total: 24,
          },
          'id-3': {
            correct: 4,
            slug: 'wdcp-22-learn-css-selectors-and-visual-roles',
            title: 'Learn CSS: Selectors and Visual Rules',
            total: 20,
          },
          'id-1': {
            correct: 1,
            slug: 'wdcp-22-learn-javascript-syntax-iterators',
            title: 'Learn JavaScript Syntax: Iterators',
            total: 7,
          },
          'id-4': {
            correct: 1,
            slug: 'wdcp-22-learn-javascript-syntax-errors-and-debugging',
            title: 'Learn JavaScript Syntax: Errors and Debugging',
            total: 6,
          },
          'id-5': {
            correct: 0,
            slug: 'wdcp-22-learn-javascript-syntax-loops',
            title: 'Learn JavaScript Syntax: Loops',
            total: 7,
          },
        }}
        totalCorrect={9}
        totalQuestions={44}
        trackSlug="becp-22-website-development-fundamentals"
        untestedSubContent={[
          {
            id: 'id-5',
            slug: 'wdcp-22-the-internet-and-web-development',
            title: 'The Internet and Web Development',
          },
          {
            id: 'id-6',
            slug: 'becp-22-going-off-platform-with-html-and-css',
            title: 'Going off-platform with HTML and CSS',
          },
          {
            id: 'id-6',
            slug:
              'wdcp-22-practice-javascript-syntax-arrays-loops-objects-iterators',
            title:
              'Practice JavaScript Syntax: Arrays, Loops, Objects, Iterators',
          },
        ]}
      />
    )}
  </Story>
</Canvas>

## Description in Column Layout

Optional description text - shown here in column layout

<Canvas>
  <Story name="Description in Column Layout">
    {(args) => (
      <ScoreSummary
        {...args}
        layout="column"
        description="A minimum score of 70% is required on all 6 certification exams to earn a professional certification"
        subScores={{
          'id-1': {
            correct: 2,
            slug: 'wdcp-22-learn-javascript-syntax-objects',
            title: 'Learn JavaScript Syntax: Objects',
            total: 17,
          },
          'id-2': {
            correct: 2,
            slug: 'wdcp-22-learn-javascript-syntax-arrays',
            title: 'Learn JavaScript Syntax: Arrays',
            total: 5,
          },
          'id-3': {
            correct: 1,
            slug: 'wdcp-22-learn-javascript-syntax-iterators',
            title: 'Learn JavaScript Syntax: Iterators',
            total: 7,
          },
          'id-4': {
            correct: 1,
            slug: 'wdcp-22-learn-javascript-syntax-errors-and-debugging',
            title: 'Learn JavaScript Syntax: Errors and Debugging',
            total: 6,
          },
          'id-5': {
            correct: 0,
            slug: 'wdcp-22-learn-javascript-syntax-loops',
            title: 'Learn JavaScript Syntax: Loops',
            total: 7,
          },
        }}
        totalCorrect={5}
        totalQuestions={42}
        trackSlug="becp-22-javascript-syntax-part-ii"
        untestedSubContent={[
          {
            id: 'id-6',
            slug:
              'wdcp-22-practice-javascript-syntax-arrays-loops-objects-iterators',
            title:
              'Practice JavaScript Syntax: Arrays, Loops, Objects, Iterators',
          },
        ]}
      />
    )}
  </Story>
</Canvas>

## Colorful Icons

<Canvas>
  <Story name="Colorful Icons">
    {(args) => (
      <ScoreSummary
        {...args}
        colorfulIcons
        totalCorrect={18}
        totalQuestions={26}
        layout="column"
        subScores={{
          'id-2': {
            correct: 5,
            slug: 'becp-22-learn-html-elements-and-structure',
            title: 'Learn HTML: Elements and Structure',
            total: 10,
          },
          'id-3': {
            correct: 5,
            slug: 'wdcp-22-learn-css-selectors-and-visual-roles',
            title: 'Learn CSS: Selectors and Visual Rules',
            total: 6,
          },
          'id-1': {
            correct: 8,
            slug: 'wdcp-22-learn-javascript-syntax-objects',
            title: 'Learn JavaScript Syntax: Objects',
            total: 10,
          },
        }}
        trackSlug={undefined}
        untestedSubContent={[]}
      />
    )}
  </Story>
</Canvas>
