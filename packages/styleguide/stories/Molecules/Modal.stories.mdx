import { FillButton, Modal } from '@codecademy/gamut/src';
import title from '@codecademy/macros/lib/title.macro';
import { Canvas, Meta, Props, Story } from '@storybook/addon-docs/dist/blocks';
import { useState } from 'react';

<Meta
  title={title}
  component={Modal}
  parameters={{
    subtitle: `Simple Modal portal to escape current DOM Context.`,
    status: 'volatile',
    source: 'gamut',
    figmaId: 'yt7NdZTETDRPUn0CtRu3v0',
    docs: {
      inlineStories: false,
    },
  }}
/>

<Canvas>
  <Story name="Modal" height="600px">
    {(args) => {
      const [isOpen, setIsOpen] = useState(false);
      return (
        <>
          <FillButton onClick={() => setIsOpen(true)}>Open</FillButton>
          <Modal
            {...args}
            isOpen={isOpen}
            title="I am a modal"
            onRequestClose={() => setIsOpen(false)}
            confirmCta={{ children: 'Okay' }}
            cancelCta={{ children: 'Cancel' }}
          >
            Close the modal!
          </Modal>
        </>
      );
    }}
  </Story>
</Canvas>

<Props story="Modal" />
