import {
  Column,
  LayoutGrid,
  Menu,
  MenuItem,
  MenuSeparator,
} from '@codecademy/gamut';
import { MultipleUsersIcon } from '@codecademy/gamut-icons';
import { Background } from '@codecademy/gamut-styles';
import title from '@codecademy/macros/lib/title.macro';
import { PropsTable } from '@codecademy/storybook-addon-variance';
import { Canvas, Meta, Story } from '@storybook/addon-docs/blocks';
import LinkTo from '@storybook/addon-links/react';

import { PopoverMenuExample } from './Menu.examples.tsx';

<Meta
  title={title}
  component={Menu}
  parameters={{
    subtitle: 'Menu list components',
    source: 'gamut',
    status: 'current',
    design: {
      type: 'figma',
      url: 'https://www.figma.com/file/r5Y0iuLDFPXy8SmYX1UW2H',
    },
  }}
  argTypes={{
    children: {
      table: {
        disable: true,
      },
    },
  }}
  args={{
    variant: 'select',
    spacing: 'normal',
    children: (
      <>
        <MenuItem>Menu Item</MenuItem>
        <MenuItem active>Active Item</MenuItem>
        <MenuSeparator />
        <MenuItem icon={MultipleUsersIcon}>Icon Item</MenuItem>
        <MenuItem>Menu Item</MenuItem>
      </>
    ),
  }}
/>

<br />

While most Menus are used as layout elements, Menus can also be used as popover elements within components like Selects.

## Components

- `Menu`: An unordered list that defines the structure and style of its constituents. Menus are nestable and keep track of their configuration and depth through the MenuContext.
- `MenuItem`: A clickable list item that renders as a link or a clickable `li` element if a href is specified.
- `MenuSeparator`: A semantic element for separating `li` items visually. This element will not display if used outside of `action` menus.

## Usage

```tsx
import { Menu, MenuItem, MenuSeparator } from '@codecademy/gamut';

const MyMenu = () => (
  <Menu variant="action">
    <MenuItem>Item 1</MenuItem>
    <MenuSeparator />
    <MenuItem href="cool">Link 1</MenuItem>
  </MenuSeparator>
);
```

## Variants

<LayoutGrid gap={32} py={24}>
<Column size={4} variant={false} mx={8}>

### Select

<Story name="Select" args={{ variant: 'select' }}>
  {(args) => (
    <>
      <Background bg="paleGreen" p={8} mt={8}>
        <Menu {...args} />
      </Background>
      <Background bg="black" p={8} mt={8}>
        <Menu {...args} />
      </Background>
    </>
  )}
</Story>

</Column>
<Column size={4} variant={false}>

### Action

<Story name="Action" args={{ variant: 'action' }}>
  {(args) => (
    <>
      <Background bg="paleGreen" p={8} mt={8}>
        <Menu {...args} />
      </Background>
      <Background bg="black" p={8} mt={8}>
        <Menu {...args} />
      </Background>
    </>
  )}
</Story>

</Column>
<Column size={4} variant={false}>

### Navigation

<Story name="Navigation" args={{ variant: 'navigation' }}>
  {(args) => (
    <>
      <Background bg="paleGreen" p={8} mt={8}>
        <Menu {...args} />
      </Background>
      <Background bg="black" p={8} mt={8}>
        <Menu {...args} />
      </Background>
    </>
  )}
</Story>

</Column>
</LayoutGrid>

## Spacing Variants

<LayoutGrid gap={32} py={24}>
<Column size={4} variant={false}>

### Select Condensed

<Story
  name="Select Condensed"
  args={{ variant: 'select', spacing: 'condensed' }}
>
  {(args) => (
    <>
      <Background bg="paleGreen" p={8} mt={8}>
        <Menu {...args} />
      </Background>
      <Background bg="black" p={8} mt={8}>
        <Menu {...args} />
      </Background>
    </>
  )}
</Story>

</Column>
<Column size={4} variant={false}>

### Action Condensed

<Story
  name="Action Condensed"
  args={{ variant: 'action', spacing: 'condensed' }}
>
  {(args) => (
    <>
      <Background bg="paleGreen" p={8} mt={8}>
        <Menu {...args} />
      </Background>
      <Background bg="black" p={8} mt={8}>
        <Menu {...args} />
      </Background>
    </>
  )}
</Story>

</Column>
<Column size={4} variant={false}>

### Condensed Nav

<Story
  name="Navigation Condensed"
  args={{ variant: 'navigation', spacing: 'condensed' }}
>
  {(args) => (
    <>
      <Background bg="paleGreen" p={8} mt={8}>
        <Menu {...args} />
      </Background>
      <Background bg="black" p={8} mt={8}>
        <Menu {...args} />
      </Background>
    </>
  )}
</Story>

</Column>
</LayoutGrid>

## Sub-Menus

You can create sub-menus by utilizing our `inline` <LinkTo kind="Atoms/PopoverContainer">PopoverContainer</LinkTo>. Once you have your base positioning, you just need to adjust the `y` axis by `48` for the `normal` spacing or `32` for the `condensed` spacing for each of the `MenuItem`s.

<PopoverMenuExample />

### Code Playground

Edit attributes and see whatâ€™s possible to do with this component or get the exact output you want.

<Canvas>
  <Story name="Menu">{(args) => <Menu {...args} />}</Story>
</Canvas>

<PropsTable story="Menu" />
