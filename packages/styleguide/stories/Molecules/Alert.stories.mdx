import { Alert, Alerts, Box } from '@codecademy/gamut/src';
import title from '@codecademy/macros/lib/title.macro';
import { Canvas, Meta, Props, Story } from '@storybook/addon-docs/dist/blocks';

<Meta
  title={title}
  component={Alert}
  parameters={{
    subtitle:
      'An alert displays an important, succinct message, and provides actions for users to address (or dismiss the alert). It requires a user action to be dismissed.',
    status: 'volatile',
    source: 'gamut',
    figmaId: 'TemYhRWOavsERWprDzRJCx',
  }}
  args={{
    variant: 'general',
    cta: 'Learn more',
    message:
      'You have been logged out due to inactivity. Click the button to log in again.',
  }}
  decorators={[
    (Story) => (
      <Box display="flex" justifyContent="center">
        {Story()}
      </Box>
    ),
  ]}
/>

## Usage Guidelines

- Alerts should be displayed at the top of the page, below the navigation bar. (40px)
- They’re persistent and non-modal, allowing the user to either ignore them or interact with them at any time.
- Floats/overlays over any content below it
- Only use Feature alert for product/feature announcements that are specific to that page (e.g. Dashboard, Catalog, Profile, LE)

<Canvas>
  <Story name="Alert">{(args) => <Alert {...args} />}</Story>
</Canvas>

<Props story="Alert" />

## Alert Variants

<Canvas isColumn>
  <Story
    name="general"
    args={{
      variant: 'general',
      message: 'You have been logged out due to inactivity.',
      cta: 'Login',
    }}
  >
    {(args) => <Alert {...args} />}
  </Story>
  <Story
    name="success"
    args={{
      variant: 'success',
      cta: 'Learn more',
      message:
        'Success notification with an icon, an inline link, a call-to-action and an X',
    }}
  >
    {(args) => <Alert {...args} />}
  </Story>
  <Story
    name="error"
    args={{
      variant: 'error',
      cta: 'Learn more',
      message:
        'Couldn’t save your account changes because there is connection.',
    }}
  >
    {(args) => <Alert {...args} />}
  </Story>
  <Story
    name="maintenance"
    args={{
      variant: 'maintenance',
      cta: 'Learn more',
      message:
        'Maintenance: Codecademy will be offline between 02:00 AM and 08:00 AM.',
    }}
  >
    {(args) => <Alert {...args} />}
  </Story>
  <Story
    name="feature"
    args={{
      variant: 'feature',
      cta: 'Learn more',
      message:
        'You can now do this new thing with this new feature we just added!',
    }}
  >
    {(args) => <Alert {...args} />}
  </Story>
</Canvas>

## Truncated message

<Canvas>
  <Story
    name="Truncated"
    args={{
      variant: 'feature',
      cta: 'Learn more',
      message:
        'You can now do this new thing with this new feature we just added! Maintenance: Codecademy will be offline between 02:00 AM and 08:00 AM.  Couldn’t save your account changes because there is connection.',
    }}
  >
    {(args) => <Alert {...args} />}
  </Story>
</Canvas>

## Stacked Alerts

<Canvas>
  <Story
    name="Stacked"
    decorators={[
      (Story) => (
        <Box height="5rem" width="100%" position="relative">
          {Story()}
        </Box>
      ),
    ]}
    args={{
      alerts: [
        {
          variant: 'feature',
          cta: 'Learn more',
          message:
            'You can now do this new thing with this new feature we just added!',
        },
        {
          variant: 'maintenance',
          cta: 'Learn more',
          message:
            'Maintenance: Codecademy will be offline between 02:00 AM and 08:00 AM.',
        },
        {
          variant: 'error',
          cta: 'Learn more',
          message:
            'Couldn’t save your account changes because there is connection.',
        },
      ],
    }}
  >
    {(args) => <Alerts {...args} />}
  </Story>
</Canvas>
