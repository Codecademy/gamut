import { Alert } from '@codecademy/gamut/src';
import title from '@codecademy/macros/lib/title.macro';
import { action } from '@storybook/addon-actions';
import { Canvas, Meta, Props, Story } from '@storybook/addon-docs/dist/blocks';

<Meta
  title={title}
  component={Alert}
  parameters={{
    subtitle: `
Alerts can be used to asynchronously display feedback or interactions
with the user with various connotations.`,
    status: 'volatile',
    source: 'gamut',
    figmaId: 'TemYhRWOavsERWprDzRJCx',
  }}
  args={{
    variant: 'info',
    cta: { text: 'Login', onClick: action('CTA Click') },
    children: `You have been logged out due to inactivity.
                Click the button to log in again.`,
  }}
/>

<Canvas withSource="open">
  <Story name="Alert">{(args) => <Alert {...args} />}</Story>
</Canvas>

<Props story="Alert" />

## Customization

Alerts can be customized in various ways to fit usages. Here are a few out of the box options you have available.

### Skeletal Alert

You can disable most options for an `Alert` to make it mostly informational with no interaction.

<Canvas>
  <Story name="Skeletal">
    {(args) => (
      <Alert showIcon={false} variant="info" onClose={action('Close')}>
        Lorem ipsum dolor sit amet, blandit detracto vis an, purto latine
        torquatos eam ut.
      </Alert>
    )}
  </Story>
</Canvas>

### Icon

You can optionally display an icon that matches the type of the alert you are showing.

<Canvas>
  <Story name="Icon">
    {(args) => (
      <Alert variant="info" onClose={action('Close')}>
        Lorem ipsum dolor sit amet, blandit detracto vis an, purto latine
        torquatos eam ut.
      </Alert>
    )}
  </Story>
</Canvas>

### Call to action

You can add a call to action if specific feedback prompts user action. This is not requried as some
feedback may not have an activity associated with it.

<Canvas>
  <Story name="Call to Action">
    {(args) => (
      <Alert
        showIcon={false}
        variant="info"
        cta={{
          href: 'https://google.com',
          onClick: action('Close'),
          text: 'Click Me',
        }}
        onClose={action('Close')}
      >
        Lorem ipsum dolor sit amet, blandit detracto vis an, purto latine
        torquatos eam ut.
      </Alert>
    )}
  </Story>
</Canvas>

### Expandable Alert

You can truncate the message of the alert for dynamic messaging that may be too long to display
without restriction. This will automatically truncate and add a toggle button.

<Canvas>
  <Story name="Expandable">
    {(args) => (
      <Alert
        showIcon={false}
        variant="info"
        lines={1}
        onClose={action('Close')}
      >
        Lorem ipsum dolor sit amet, blandit detracto vis an, purto latine
        torquatos eam ut. Dicta dolores adversarium mei in. Ius ei ridens
        mentitum consequat. Amet intellegam in nec. Pro duis novum ludus ad.
      </Alert>
    )}
  </Story>
</Canvas>

### Permanent Alert

If your alert should always stay on the page, you can skip giving it a close button on the right.
Please remember that most of these are rather frustrating for users.

<Canvas>
  <Story name="Permanent">
    {(args) => (
      <Alert showIcon={false} variant="info" lines={1}>
        Lorem ipsum dolor sit amet, blandit detracto vis an, purto latine
        torquatos eam ut. Dicta dolores adversarium mei in. Ius ei ridens
        mentitum consequat. Amet intellegam in nec. Pro duis novum ludus ad.
      </Alert>
    )}
  </Story>
</Canvas>

### All Options

<Canvas>
  <Story name="All Options">
    {(args) => (
      <Alert
        variant="info"
        cta={{
          href: 'https://google.com',
          onClick: action('Close'),
          text: 'Click Me',
        }}
        lines={1}
        onClose={action('Close')}
      >
        Lorem ipsum dolor sit amet, blandit detracto vis an, purto latine
        torquatos eam ut. Dicta dolores adversarium mei in. Ius ei ridens
        mentitum consequat. Amet intellegam in nec. Pro duis novum ludus ad.
      </Alert>
    )}
  </Story>
</Canvas>
