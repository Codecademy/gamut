import {
  Accordion,
  AccordionArea,
  AccordionButton,
} from '@codecademy/gamut/src';
import title from '@codecademy/macros/lib/title.macro';
import { Canvas, Meta, Props, Story } from '@storybook/addon-docs/blocks';

<Meta
  title={title}
  component={Accordion}
  subcomponents={{ AccordionArea, AccordionButton }}
  parameters={{
    subtitle: `A molecule consisting of a "top" section and an expandable body,
such as a "hint" section in the LE or a list of department jobs on a careers page.
`,
    status: 'deprecated',
    source: 'gamut',
  }}
/>

<Canvas withSource="open">
  <Story name="Accordion">
    {(args) => (
      <Accordion top="Click me!" {...args}>
        Hidden treasure!
      </Accordion>
    )}
  </Story>
</Canvas>

<Props story="Accordion" />

> Note that accordions will fit to `100%` of the the height of their parent container.
> If you need a fixed height container, wrap the accordion in a `<div>`.

## AccordionArea

If you'd like a "controlled" component equivalent, you can manually use the `AccordionArea` and `AccordionButton` sub-components.
Most accordions should use an `AccordionButton`; other forms of buttons are acceptable for custom accordions.

<Canvas>
  <Story
    name="AccordionArea"
    args={{
      expanded: true,
      top: <AccordionButton expanded>Click me!</AccordionButton>,
    }}
  >
    {(args) => <AccordionArea {...args} />}
  </Story>
</Canvas>
