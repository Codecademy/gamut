import { AppHeaderMobile } from '@codecademy/gamut-labs/src';
import title from '@codecademy/macros/lib/title.macro';
import { Canvas, Meta, Story } from '@storybook/addon-docs/blocks';
import LinkTo from '@storybook/addon-links/react';

import { PropsTable } from '~styleguide/blocks';

import {
  MOCK_DROPDOWN_1,
  MOCK_DROPDOWN_2,
  MOCK_LINK,
  MOCK_PROFILE_DROPDOWN,
} from './MockAppHeaderElements';

<Meta
  title={title}
  component={AppHeaderMobile}
  parameters={{
    layout: 'padded',
    status: 'volatile',
    subtitle: 'The mobile version of AppHeader.',
  }}
  args={{
    action: () => {},
    items: {
      left: [
        {
          id: 'logo-1',
          href: 'http://codecademy.com',
          pro: false,
          trackingTarget: 'tracking-target',
          type: 'logo',
        },
      ],
      right: [
        {
          id: 'text-button',
          text: 'Log in',
          href: 'http://codecademy.com',
          trackingTarget: 'tracking-target',
          type: 'text-button',
        },
        {
          id: 'fill-button',
          text: 'Sign up',
          href: 'http://codecademy.com',
          trackingTarget: 'tracking-target',
          type: 'fill-button',
        },
      ],
      mainMenu: [
        MOCK_LINK,
        MOCK_DROPDOWN_1,
        MOCK_DROPDOWN_2,
        MOCK_PROFILE_DROPDOWN,
      ],
    },
  }}
/>

A mobile header component for use in <LinkTo kind="Molecules/GlobalHeader" story="GlobalHeader">GlobalHeader</LinkTo>. Similarly to the desktop version, it uses <LinkTo kind='Molecules/AppBar' story="Header">AppBar</LinkTo> to arrange items to the left or right side of the navigation bar. Besides `left` and `right`, this component also has a `mainMenu` key in the `items` object. The items in `mainMenu` are passed to <LinkTo kind="Molecules/AppHeaderMainMenuMobile" story="AppHeaderMainMenuMobile">AppHeaderMainMenuMobile</LinkTo>.

AppHeaderMobile is not intended to be used alone, but rather by <LinkTo kind="Molecules/GlobalHeader" story="GlobalHeader">GlobalHeader</LinkTo> which determines the composition of each of the Pro, Free, and Anon versions of Codecademy's global navigation header and passes the corresponding items to AppHeader.

<Canvas>
  <Story name="AppHeaderMobile">
    {(args) => <AppHeaderMobile {...args} />}
  </Story>
</Canvas>

<PropsTable story="AppHeaderMobile" />
