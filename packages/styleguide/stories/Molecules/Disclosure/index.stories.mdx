import { Disclosure } from '@codecademy/gamut';
import { Background } from '@codecademy/gamut-styles';
import title from '@codecademy/macros/lib/title.macro';
import { PropsTable } from '@codecademy/storybook-addon-variance';
import { Canvas, Meta, Story } from '@storybook/addon-docs/blocks';

import { ConstrainedText, ListDisclosureExample } from './examples';

<Meta
  title={title}
  component={Disclosure}
  parameters={{
    subtitle:
      'A Disclosure is an expandable container featuring a heading that serves as a toggle to expand or collapse a content section.',
    source: 'gamut',
    status: 'current',
    padded: true,
    design: {
      type: 'figma',
      url:
        'https://www.figma.com/file/ReGfRNillGABAj5SlITalN/%F0%9F%93%90-Gamut?node-id=30186-40432&m=dev',
    },
  }}
  args={{
    heading: 'Disclosure heading',
    body: 'Disclosure body.',
  }}
/>

<Story name="Disclosure">{(args) => <Disclosure {...args} />}</Story>

## Usage

Use a Disclosure to progressively reveal information, giving users the option to access additional details as needed. By initially hiding less immediately relevant information, it minimizes cognitive load and boosts content scannability.

Use the List component when presenting a group of Disclosures.

## Variants

Disclosure has 5 variants (`'defaultBgBordered'`, `'defaultBgUnbordered'`, `'noBgBordered'`, `'subtleBgBordered'`, and `'subtleBgUnbordered'`) and 3 spacing options (`'normal'`, `'condensed'`, `'compact'`). Check the Figma design to apply the correct styling.

### Default and Block variants

<Canvas>
  <Story
    name="defaultBgBordered"
    args={{
      heading: 'defaultBgBordered',
      body: 'Notice the border and it uses `background`',
    }}
  >
    {(args) => (
      <Background bg="background-primary">
        <Disclosure {...args} />
      </Background>
    )}
  </Story>
</Canvas>

<Canvas>
  <Story
    name="subtleBgBordered"
    args={{
      variant: 'subtleBgBordered',
      heading: 'subtleBgBordered',
      body:
        'Notice the border and it uses `background-selected`. For this example there is a `<Background>` set to `"background-primary"`.',
    }}
  >
    {(args) => (
      <Background bg="background-primary">
        <Disclosure {...args} />
      </Background>
    )}
  </Story>
</Canvas>

<Canvas>
  <Story
    name="noBgBordered"
    args={{
      variant: 'noBgBordered',
      heading: 'noBgBordered',
      body:
        'Notice the border and it uses `background-current` to inherit the existing background color. For this example there is a `<Background>` set to `"primary-inverse"`.',
    }}
  >
    {(args) => (
      <Background bg="primary-inverse">
        <Disclosure {...args} />
      </Background>
    )}
  </Story>
</Canvas>

<Canvas>
  <Story
    name="defaultBgUnbordered"
    args={{
      variant: 'defaultBgUnbordered',
      heading: 'Block variant',
      body: 'Notice the LACK of border and it uses `background`',
    }}
  >
    {(args) => <Disclosure {...args} />}
  </Story>
</Canvas>

<Canvas>
  <Story
    name="subtleBgUnbordered"
    args={{
      variant: 'subtleBgUnbordered',
      heading: 'subtleBgUnbordered',
      body:
        'Notice the LACK of border and it uses `background-selected`. For this example there is a `<Background>` set to `"background-primary"`.',
    }}
  >
    {(args) => (
      <Background bg="background-primary">
        <Disclosure {...args} />
      </Background>
    )}
  </Story>
</Canvas>

### Spacing Options

`spacing` is an optional prop you can pass to `<Disclosure>`. By default it's set to `"normal"`, though you can set it to `"condensed"` or `"compact"` as well. Spacing will determine the height of the heading, the size of the chevron icon, as well as the padding of both the heading and the body.

<Canvas>
  <Story
    name="Normal spacing"
    args={{
      heading: 'Normal spacing',
      body:
        'Lorem ipsum dolor sit amet consectetur. Ut consectetur adipiscing a donec sed volutpat. Tempor risus rhoncus quisque vel sit mattis. Accumsan vel posuere tortor sit mattis augue congue sit.',
    }}
  >
    {(args) => <Disclosure {...args} />}
  </Story>
</Canvas>

<Canvas>
  <Story
    name="Condensed spacing"
    args={{
      heading: 'Condensed spacing',
      body:
        'Lorem ipsum dolor sit amet consectetur. Ut consectetur adipiscing a donec sed volutpat. Tempor risus rhoncus quisque vel sit mattis. Accumsan vel posuere tortor sit mattis augue congue sit.',
      spacing: 'condensed',
    }}
  >
    {(args) => <Disclosure {...args} />}
  </Story>
</Canvas>

<Canvas>
  <Story
    name="Compact spacing"
    args={{
      heading: 'Compact spacing',
      body:
        'Lorem ipsum dolor sit amet consectetur. Ut consectetur adipiscing a donec sed volutpat. Tempor risus rhoncus quisque vel sit mattis. Accumsan vel posuere tortor sit mattis augue congue sit.',
      spacing: 'compact',
    }}
  >
    {(args) => <Disclosure {...args} />}
  </Story>
</Canvas>

### List with Disclosures

<Canvas>
  <Story name="List example">
    <ListDisclosureExample />
  </Story>
</Canvas>

## Code Playground

<Canvas>
  <Story
    name="Disclosure Playground"
    args={{
      heading: "All the fixin's",
      body: ConstrainedText,
      overline: 'overline is text-secondary and fontFamily: accent',
      subheading: 'subheading is text-secondary',
      ctaText: 'Optional button - must include a callback!',
      ctaCallback: () => {},
      hasPanelBg: true,
      initiallyExpanded: true,
    }}
  >
    {(args) => <Disclosure {...args} />}
  </Story>
</Canvas>

<PropsTable story="Disclosure Playground" />
