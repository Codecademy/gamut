import { Alert } from '@codecademy/gamut/src';
import title from '@codecademy/macros/lib/title.macro';
import { Canvas, Meta, Story } from '@storybook/addon-docs/dist/blocks';

import { PropsTable } from '~styleguide/blocks';

import { ALERTS } from './constants';

<Meta
  title={title}
  component={Alert}
  parameters={{
    subtitle:
      'An alert displays an important, succinct message, and provides actions for users to address (or dismiss the alert). It requires a user action to be dismissed.',
    status: 'stable',
    source: 'gamut',
    figmaId: 'TemYhRWOavsERWprDzRJCx',
    padded: true,
  }}
  args={{
    type: 'general',
    placement: 'floating',
    cta: {
      children: 'Learn More',
    },
    children:
      'You have been logged out due to inactivity. Click the button to log in again.',
  }}
/>

<Story name="Alert">{(args) => <Alert {...args} />}</Story>

<br />

## Usage Guidelines

- There are 5 alert types. Choose the one that applies most to your case.
- Display alerts at the top of the page, below the navigation bar.
- Persistent and non-modal, allowing the user to either ignore them or interact with them at any time.
- Floats/overlays over any content below it.
- Only use Feature alert for product/feature announcements that are specific to that page (e.g. Dashboard, Catalog, Profile, LE)
- **For Inline use**: Only use the inline variant (non-stroked) and only use Success, Error or General type, other types are for top-level use only.

<br />

## Alert Types

<br />

### General

<Story name="General" args={ALERTS.general}>
  {(args) => <Alert {...args} />}
</Story>

### Success

<Story name="Success" args={ALERTS.success}>
  {(args) => <Alert {...args} />}
</Story>

### Error

<Story name="Error" args={ALERTS.error}>
  {(args) => <Alert {...args} />}
</Story>

### Notice

<Story name="Notice" args={ALERTS.notice}>
  {(args) => <Alert {...args} />}
</Story>

### Feature

<Story name="Feature" args={ALERTS.feature}>
  {(args) => <Alert {...args} />}
</Story>

<br />

## Inline Variant

For inline use you can use these non-stroked versions for the General, Success and Error type.

### General

<Story name="Inline General" args={{ ...ALERTS.general, placement: 'inline' }}>
  {(args) => <Alert {...args} />}
</Story>

### Success

<Story name="Inline Success" args={{ ...ALERTS.success, placement: 'inline' }}>
  {(args) => <Alert {...args} />}
</Story>

### Error

<Story name="Inline Error" args={{ ...ALERTS.error, placement: 'inline' }}>
  {(args) => <Alert {...args} />}
</Story>

<br />

## Code Playground

Edit attributes and see whatâ€™s possible to do with this component or get the exact output you want.

<Canvas>
  <Story name="Playground">{(args) => <Alert {...args} />}</Story>
</Canvas>

<PropsTable story="Playground" />
