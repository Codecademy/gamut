import { Dialog } from '@codecademy/gamut/src';
import { ColorMode } from '@codecademy/gamut-styles/src';
import title from '@codecademy/macros/lib/title.macro';
import { Canvas, Meta, Story } from '@storybook/addon-docs/blocks';

import { LinkTo, PropsTable } from '~styleguide/blocks';

<Meta
  title={title}
  component={Dialog}
  parameters={{
    subtitle: `Constrained Dialog Dialog`,
    status: 'current',
    source: 'gamut',
    design: {
      type: 'figma',
      url:
        'https://www.figma.com/file/PtSjm2jy8jVJICTpDhahzE/Modals?node-id=1%3A87',
    },
  }}
  args={{
    inline: true,
    isOpen: true,
    title: 'Depeche Modal',
    children: 'All I ever wanted, all I ever needed is here in my',
    confirmCta: { children: 'Arms!' },
    cancelCta: { children: 'Heart?' },
  }}
/>

## Use cases

- Use regular Dialogs to have users accept a specific state of the system or force a user to see something.
- Use warning Dialogs to warn the user of the consequences of the action they may take

## Key principles

- Dialogs appear unprompted and require confirmation before the user can continue.
- Use the modal component sparingly. This is the most dispruptive tool in our arsenal. We should only have a small handful of these in our system at any given time.

## Usage Guidelines

- Dialogs have a min-width of 400px
- Dialog height changes depending on the body-text length.
- Dialog has light and dark theme variants and each mode is colored differently.
- Warning Dialogs should use a red CTA button (light mode: white text on #E91C11 background, dark mode: navy text on #E85D7F background)
- Dialogs use pattern at 80% opacity to give component depth.
- Dialogs should always be displayed over an overlay. The overlay in light mode should be white at 95% opacity, the overlay in dark mode should be black at 75% opacity.

## Location

- Dialogs should be centered inside of the window.

## Variants

### Primary

<Canvas>
  <Story name="Primary" height="500px">
    {(args) => {
      return <Dialog {...args} />;
    }}
  </Story>
</Canvas>

### Danger

<Canvas>
  <Story name="Danger" height="500px" args={{ variant: 'danger' }}>
    {(args) => {
      return <Dialog {...args} />;
    }}
  </Story>
</Canvas>

## Color Modes

Dialog components respond to the current <LinkTo id="foundations-color-mode--page">Color Mode</LinkTo> they are used in. Each component inside of dialog will correctly display for the current color mode without any extra configuration.
Check it out:

### Light

<Canvas>
  <Story name="Light" height="500px">
    {(args) => {
      return <Dialog {...args} />;
    }}
  </Story>
</Canvas>

### Dark

<Canvas>
  <Story name="Dark" height="500px" args={{ mode: 'dark' }}>
    {(args) => {
      return (
        <ColorMode mode="dark">
          <Dialog {...args} />
        </ColorMode>
      );
    }}
  </Story>
</Canvas>

## Code Playground

Edit attributes and see whatâ€™s possible to do with this component or get the exact output you want.

<Canvas>
  <Story name="Dialog" height="500px">
    {(args) => {
      return <Dialog {...args} />;
    }}
  </Story>
</Canvas>

<PropsTable story="Dialog" />
