import {
  FillButton,
  FlexBox,
  IconButton,
  List,
  ListCol,
  ListRow,
  Text,
  TextButton,
} from '@codecademy/gamut';
import {
  MiniDeleteIcon,
  MiniKebabMenuIcon,
  StarIcon,
  StreakIcon,
  TrophyIcon,
} from '@codecademy/gamut-icons';
import { ColorMode } from '@codecademy/gamut-styles';
import title from '@codecademy/macros/lib/title.macro';
import { PropsTable } from '@codecademy/storybook-addon-variance';
import { Canvas, Meta, Story } from '@storybook/addon-docs/blocks';

<Meta
  title={title}
  component={List}
  parameters={{
    subtitle: 'Presentational components for creating rows with mixed content',
    source: 'gamut',
    status: 'current',
    design: {
      type: 'figma',
      url:
        'https://www.figma.com/file/QqN956bndK3HZ3AyFjmxNz/Code-Challenges?node-id=77%3A17795',
    },
  }}
  args={{}}
/>

<Canvas>
  <Story name="List">{(args) => <List {...args} />}</Story>
</Canvas>

<PropsTable story="List" />

## Spacing

### Normal

For mixed content use the normal size to ensure that there is enough space for components

export const mockUsers = [
  { name: 'Jean Luc Picard', role: 'Captain', ship: 'USS Enterprise' },
  { name: 'Wesley Crusher', role: 'Deus Ex Machina', ship: 'USS Enterprise' },
  { name: 'Amos Burton', role: 'Mechanic', ship: 'MCRN Rocinate' },
];

export const CondensedTemplate = (args) => (
  <ColorMode mode={args.mode}>
    <List variant="slat" spacing="condensed">
      {mockUsers.map(({ name, role, ship }, i, key = `example-row-${i}`) => (
        <ListRow key={key}>
          <ListCol size="lg">
            <Text fontWeight={700} truncate="ellipsis">
              {name}
            </Text>
          </ListCol>
          <ListCol size="md">
            <Text variant="p-small" color="text-disabled" truncate="ellipsis">
              {role}
            </Text>
          </ListCol>
          <ListCol fill collapse>
            <Text variant="p-small" color="text-disabled" truncate="ellipsis">
              {ship}
            </Text>
          </ListCol>
          <ListCol size="md">
            <Text
              truncate="ellipsis"
              variant="p-small"
              color="text-disabled"
              lineHeight="title"
              mt={4}
            >
              <StreakIcon size={18} verticalAlign="middle" mr={8} mb={4} />
              87%
            </Text>
          </ListCol>
          <ListCol size="md">
            <Text
              variant="p-small"
              color="text-disabled"
              lineHeight="title"
              mt={4}
            >
              <TrophyIcon size={18} verticalAlign="middle" mr={8} mb={4} />
              48%
            </Text>
          </ListCol>
          <ListCol size="md">
            <Text
              variant="p-small"
              color="text-disabled"
              lineHeight="title"
              mt={4}
            >
              <StarIcon size={18} verticalAlign="middle" mr={8} mb={4} />
              66%
            </Text>
          </ListCol>
          <ListCol size="content" flush right>
            <FillButton size="small" mr={8}>
              Engage
            </FillButton>
            <IconButton icon={MiniKebabMenuIcon} size="small" />
            <IconButton icon={MiniDeleteIcon} size="small" />
          </ListCol>
        </ListRow>
      ))}
    </List>
  </ColorMode>
);

export const NormalTemplate = (args) => (
  <ColorMode mode={args.mode}>
    <List variant="slat" spacing="normal">
      {mockUsers.map(({ name, role, ship }, i, key = `example-row-${i}`) => (
        <ListRow key={key}>
          <ListCol size="lg">
            <FlexBox column>
              <Text
                color="text-disabled"
                textTransform="uppercase"
                variant="p-small"
              >
                {ship}
              </Text>
              <Text variant="title-xs">{name}</Text>
            </FlexBox>
          </ListCol>
          <ListCol fill collapse>
            <FlexBox column>
              <Text
                color="text-disabled"
                textTransform="uppercase"
                variant="p-small"
              >
                Rank
              </Text>
              <Text variant="title-xs">{role}</Text>
            </FlexBox>
          </ListCol>
          <ListCol size="md">
            <Text
              variant="p-small"
              color="text-disabled"
              lineHeight="title"
              mt={4}
            >
              <StreakIcon size={18} verticalAlign="middle" mr={8} mb={4} />
              87%
            </Text>
          </ListCol>
          <ListCol size="md">
            <Text
              variant="p-small"
              color="text-disabled"
              lineHeight="title"
              mt={4}
            >
              <TrophyIcon size={18} verticalAlign="middle" mr={8} mb={4} />
              48%
            </Text>
          </ListCol>
          <ListCol size="md">
            <Text
              variant="p-small"
              color="text-disabled"
              lineHeight="title"
              mt={4}
            >
              <StarIcon size={18} verticalAlign="middle" mr={8} mb={4} />
              66%
            </Text>
          </ListCol>
          <ListCol size="lg" flush right>
            <TextButton mr={16}>Hail</TextButton>
            <FillButton>Engage</FillButton>
          </ListCol>
        </ListRow>
      ))}
    </List>
  </ColorMode>
);

<Story name="Normal - Light">{NormalTemplate.bind({})}</Story>

<br />

<Story name="Normal - Dark" args={{ mode: 'dark' }}>
  {NormalTemplate.bind({})}
</Story>

### Condensed

For a more compact list use the condensed spacing

<Story name="Condensed - Light">{CondensedTemplate.bind({})}</Story>

<br />

<Story name="Condensed - Dark" args={{ mode: 'dark' }}>
  {CondensedTemplate.bind({})}
</Story>
