import { Box } from '@codecademy/gamut/src';
import title from '@codecademy/macros/lib/title.macro';
import { Canvas, Meta, Story } from '@storybook/addon-docs/blocks';
import LinkTo from '@storybook/addon-links/react';

import { PropsTable } from '~styleguide/blocks';

<Meta
  title={title}
  component={Box}
  parameters={{
    subtitle: 'Flexible container component with all system props available',
    status: 'updating',
    source: 'gamut',
  }}
/>

This is our primitive box component that is meant to be a kitchen sink utility component for all basic layouts. This is meant to act as a configurable building block for almost any occasion. It is extremely flexible and has access to nearly all of our `system props`.

You can use this for pretty much anything. So try it out!

<p>
  While this can be made to be a <code>grid</code> or <code>flex</code>{' '}
  container, we also provide two specific components to handle those in addition
  to everything that Box does!{' '}
  <code>
    <LinkTo kind="/Layouts/Box/GridBox">GridBox</LinkTo>
  </code>{' '}
  and{' '}
  <code>
    <LinkTo kind="/Layouts/Box/FlexBox">FlexBox</LinkTo>
  </code>
</p>

<Canvas>
  <Story
    name="Box"
    args={{
      as: 'div',
      children: 'Hello world I am a box',
    }}
  >
    {(args) => <Box {...args} />}
  </Story>
</Canvas>

<PropsTable story="Box" defaultGroups={['layout']} />

## Visual Examples

While the component really has no default styles or props, it can be hard to imagine what you might be able to achieve with it. So we've come up with some examples on how you might use `<Box />` to solve your own problems.

### Bordered Containers

One of the main uses of box is to create bordered containers with their own borders and internal padding. Many times when we want to achieve this kind of bordered container effect it can be tempting to just reinvent the wheel, but as requirements mount and differ between contexts we end up with a lot of variety in implementation. The flexibility of `<Box />` can help limit the amount of redundancy and account for a wild range of possibilities.

<Canvas>
  <Story
    name="Bordered"
    args={{
      border: 1,
      p: 8,
      children: 'I am a bordered box',
    }}
  >
    {(args) => <Box {...args} />}
  </Story>
</Canvas>

### Badges

Another great example of how we can use `<Box />` as a swiss army knife is recreating badges. Since we can specificy any `display` property or HTML tag on the component we can create our own inline Badge / Tag elements through some simple configuration.

<Canvas>
  <Story name="Badges" args={{ elements: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10] }}>
    {(args) => (
      <Box>
        {args.elements.map((el) => (
          <Box
            key={el}
            m={4}
            py={4}
            p={8}
            display="inline-block"
            bg="blue-500"
            textColor="white"
            borderRadius="4px"
          >
            Box #{el}
          </Box>
        ))}
      </Box>
    )}
  </Story>
</Canvas>

## Container Examples

So far we've covered examples of using `<Box />` as a visual element on its own, but there are many times where we just need a container to provide a specific context for other design elements.

### Positioning

Positioning elements and maintaining stacking contexts can be annoying, especially when upstream affects can be hard to identify (IE: a `position: relative;` container that is ancient ancestor of some `position: absolute` descendent being tricky to debug). With `<Box />` you can configure these contexts in your mark up, and coordinate them easily.

<Canvas>
  <Story name="Positioning">
    {(args) => (
      <Box position="relative" height="500px">
        <Box position="absolute" left="0" top="0" bg="gray-200" p={16}>
          Top Left
        </Box>
        <Box position="absolute" bottom="0" left="0" bg="gray-200" p={16}>
          Bottom Left
        </Box>
        <Box position="absolute" right="0" top="0" bg="gray-200" p={16}>
          Top Right
        </Box>
        <Box position="absolute" right="0" bottom="0" bg="gray-200" p={16}>
          Bottom Right
        </Box>
      </Box>
    )}
  </Story>
</Canvas>
