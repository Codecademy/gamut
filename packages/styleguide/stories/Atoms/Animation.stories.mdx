import { Rotation } from '@codecademy/gamut/src';
import { MiniChevronDownIcon } from '@codecademy/gamut-icons/src';
import title from '@codecademy/macros/lib/title.macro';
import { PropsTable } from '@codecademy/storybook-addon-variance';
import { Canvas, Meta, Story } from '@storybook/addon-docs/blocks';

import { RotationExample } from './Animation.examples.tsx';

<Meta
  title={title}
  component={Rotation}
  parameters={{
    subtitle: 'Controlled containers for predictable animations',
    status: 'current',
    source: 'gamut',
  }}
  args={{
    rotated: true,
    degrees: 45,
    children: <MiniChevronDownIcon />,
  }}
/>

<Canvas>
  <Story name="Rotation">
    <Rotation rotated degrees={45}>
      <MiniChevronDownIcon />
    </Rotation>
  </Story>
</Canvas>

<PropsTable
  story="Rotation"
  include={['rotated', 'degrees', 'height', 'width']}
/>

## Rotation example

Animations should not be the click target of actions, but rather the container for the content you wish to animate.

<Canvas>
  <Story name="Rotation example">
    {(args) => <RotationExample {...args} />}
  </Story>
</Canvas>

```tsx
import { Rotation, StrokeButton } from '@codecademy/gamut';
import React, { useState } from 'react';

export const RotationExample: React.FC = ({ children }) => {
  const [isRotated, setRotated] = useState(false);

  return (
    <StrokeButton onClick={() => setRotated(!isRotated)}>
      <Rotation rotated={isRotated}>{children}</Rotation>
    </StrokeButton>
  );
};
```
