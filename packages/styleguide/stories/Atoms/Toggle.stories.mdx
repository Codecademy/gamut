import { Text, Toggle } from '@codecademy/gamut/src';
import title from '@codecademy/macros/lib/title.macro';
import { PropsTable } from '@codecademy/storybook-addon-variance';
import { Canvas, Meta, Story } from '@storybook/addon-docs/blocks';

import {
  InteractiveButtonToggle,
  InteractiveInputToggle,
} from './Toggle.examples.tsx';

<Meta
  title={title}
  component={Toggle}
  parameters={{
    subtitle: 'A completely controlled boolean Toggle component',
    source: 'gamut',
    status: 'current',
    design: {
      type: 'figma',
      url:
        'https://www.figma.com/file/ReGfRNillGABAj5SlITalN/%F0%9F%93%90-Gamut?node-id=60%3A3',
    },
  }}
  args={{ onChange: () => null }}
/>

## Usage guidelines

- Toggles are functionally similar to Checkboxes, as they both display whether they are checked or not.
- Also like our Checkboxes, our Toggles are [controlled components](https://reactjs.org/docs/forms.html#controlled-components), so their checked value must be controlled by an external state and onChange.
- Like other Form Elements, make sure to include a label with your Toggle.
  - Labels can be on either side of the Toggle â€” choose the direction that aligns best with the other elements on the page.
- Toggles are most effective when they trigger an immediate action with related components (like changing copy or showing a section when toggled)

<Canvas>
  <Story
    name="right"
    args={{ label: 'My label is to the right', labelSide: 'right' }}
  >
    {(args) => <Toggle {...args} />}
  </Story>
  <Story
    name="left"
    args={{ label: 'My label is to the left', labelSide: 'left' }}
  >
    {(args) => <Toggle {...args} />}
  </Story>
</Canvas>

## Color variants

Toggles adapt to the appropriate color mode, taking on `hyper` in light mode and `yellow` in dark mode. Toggle the mode in Storybook to see them change!

<Canvas>
  <Story name="checked" args={{ checked: true, label: 'I am checked' }}>
    {(args) => <Toggle {...args} />}
  </Story>
  <Story name="unchecked" args={{ label: 'I am not checked' }}>
    {(args) => <Toggle {...args} />}
  </Story>
</Canvas>

## Size

We support 2 sizes for `<Toggle />`.

- `medium`: The default and preferred size, especially if it is part of a form.
- `small`: Used for UI toggles that are outside of a form context and need to fit into smaller areas.

<Canvas>
  <Story name="medium" args={{ size: 'medium' }}>
    {(args) => <Toggle {...args} />}
  </Story>
  <Story name="small" args={{ size: 'small' }}>
    {(args) => <Toggle {...args} />}
  </Story>
</Canvas>

## Disabled

Disabling the input will change the opacity and cursor but still denote the current value.

<Canvas>
  <Story name="disabled" args={{ checked: false, disabled: true }}>
    {(args) => <Toggle {...args} />}
  </Story>
  <Story name="disabled-checked" args={{ checked: true, disabled: true }}>
    {(args) => <Toggle {...args} />}
  </Story>
</Canvas>

## Component labels

Labels can also be React components

<Canvas>
  <Story
    name="Component Label"
    args={{
      checked: false,
      label: <Text>I am a Text component</Text>,
      ariaLabel: 'Hello there',
    }}
  >
    {(args) => <Toggle {...args} />}
  </Story>
</Canvas>

## HTML element

Our Toggles default to being `input` elements, but can also be the `button` element.

- An `input` toggle should be provided an `onChange` and should have a secondary action (such as a submit button) that does something with its value. It is also usually wrapped in a form.
- A `button` toggle should be provided an `onClick` and have an action that happens immediately (i.e, without a secondary input.) The toggle also gets the `role` of `switch`.

If you use voiceover on either of the below, you will hear the difference this makes for accessibility.

<Canvas>
  <Story name="Input toggle" args={{ label: 'input toggle' }}>
    {(args) => <Toggle {...args} />}
  </Story>
  <Story
    name="Button Toggle"
    args={{
      as: 'button',
      checked: true,
      label: 'button toggle',
      onChange: undefined,
      onClick: () => null,
    }}
  >
    {(args) => <Toggle {...args} />}
  </Story>
</Canvas>

## Interactive examples

<Canvas>
  <Story
    name="Interactive Input Toggle"
    args={{ label: 'interactive example' }}
  >
    {(args) => <InteractiveInputToggle {...args} />}
  </Story>
  <Story
    name="Interactive Button Toggle"
    args={{ label: 'interactive button example' }}
  >
    {(args) => <InteractiveButtonToggle {...args} />}
  </Story>
</Canvas>

## Playground example

<Canvas>
  <Story name="Toggle" args={{ label: 'example' }}>
    {(args) => <Toggle {...args} />}
  </Story>
</Canvas>

<PropsTable story="Toggle" defaultGroups={['space']} />
