import {
  Column,
  GridBox,
  LayoutGrid,
  ProgressBar,
} from '@codecademy/gamut/src';
import title from '@codecademy/macros/lib/title.macro';
import { Canvas, Meta, Props, Story } from '@storybook/addon-docs/dist/blocks';

import { bars } from './constants';

<Meta
  title={title}
  component={ProgressBar}
  parameters={{
    subtitle: 'A horizontal bar for displaying progress',
    source: 'gamut',
    status: 'volatile',
  }}
  args={{ minimumPercent: 5, percent: 5 }}
/>

ProgressBars are to be used when you would like to indicate a known or
somewhat-known amount of progress along a fixed course. For example, you
might show one on a quiz page indicating how many questions have been
completed.

Bars with the `large` size are thicker and will display a
percentage label.

<Canvas>
  <Story name="ProgressBar">
    {(args) => (
      <LayoutGrid columnGap="sm" rowGap="sm">
        {[0, 25, 50, 75, 100].map((percent) =>
          bars.map(({ size, variant }) => (
            <Column key={[percent, size, variant].join()} size={6}>
              <ProgressBar size={size} percent={percent} variant={variant} />
            </Column>
          ))
        )}
      </LayoutGrid>
    )}
  </Story>
</Canvas>

<Props story="ProgressBar" />

## Minimum Percent

Some bars (generally small ones) should display at least a little bit of
progress, even if the technical progress number is zero. You can use the
`minimumPercent` prop for a minimum visual width percentage.

<Canvas>
  <Story name="Minimum Percentage">{(args) => <ProgressBar {...args} />}</Story>
</Canvas>

## Pattern background

Using the new SVG Pattern component for the background. Here we are using the DiagonalStripesRegular Pattern in navy in the large ProgressBar and the diagonalStripesDense pattern in the smaller ProgressBar.

### Stripes Regular

<Canvas column={2}>
  <Story
    name="Stripe - Regular"
    args={{
      pattern: 'diagonalStripesRegular',
      size: 'large',
      percent: 50,
      variant: 'yellow',
    }}
  >
    {(args) => <ProgressBar {...args} />}
  </Story>
</Canvas>

### Stripes Dense

<Canvas>
  <Story
    name="Stripe - Dense"
    args={{
      pattern: 'diagonalStripesDense',
      percent: 33,
      variant: 'blue',
    }}
  >
    {(args) => <ProgressBar {...args} />}
  </Story>
</Canvas>

## Bordered variant

This is a variant of the ProgressBar that has a transparent background and "bordered" look. bordered-light should always be displayed against a dark background and bordered-dark should be displayed against a light background.

### Bordered Light

<Canvas column={2}>
  <Story
    name="Bordered - Light"
    args={{
      percent: 50,
      variant: 'bordered-light',
      width: '150px',
    }}
  >
    {(args) => (
      <GridBox
        alignContent="center"
        height="8rem"
        backgroundColor="navy"
        padding={32}
      >
        <ProgressBar {...args} />
      </GridBox>
    )}
  </Story>
</Canvas>

### Bordered Dark

<Canvas column={2}>
  <Story
    name="Bordered - Dark"
    args={{
      percent: 42,
      variant: 'bordered-dark',
      width: '150px',
    }}
  >
    {(args) => (
      <GridBox
        alignContent="center"
        height="8rem"
        backgroundColor="palePink"
        borderColor="navy"
        borderStyle="solid"
        borderWidth="1px"
        padding={32}
      >
        <ProgressBar {...args} />
      </GridBox>
    )}
  </Story>
</Canvas>

### Bordered Light Large

<Canvas column={2}>
  <Story
    name="Bordered - Light - Large"
    args={{
      pattern: 'diagonalStripesDense',
      percent: 71,
      variant: 'bordered-light',
      width: '150px',
      size: 'large',
    }}
  >
    {(args) => (
      <GridBox
        alignContent="center"
        height="8rem"
        backgroundColor="navy"
        borderColor="navy"
        borderStyle="solid"
        borderWidth="1px"
        padding={32}
      >
        <ProgressBar {...args} />
      </GridBox>
    )}
  </Story>
</Canvas>
