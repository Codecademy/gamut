import { RadialProgress } from '@codecademy/gamut/src';
import title from '@codecademy/macros/lib/title.macro';
import { Canvas, Meta, Props, Story } from '@storybook/addon-docs/dist/blocks';

<Meta
  title={title}
  component={RadialProgress}
  parameters={{
    subtitle: 'An SVG dial for displaying progress or percentages',
    source: 'gamut',
  }}
  args={{
    strokeLinecap: 'round',
    strokeWidth: 10,
    value: 30,
    size: 120,
  }}
/>

A circular display of progress meant to convey a
percentage out of a whole.

<Canvas>
  <Story name="RadialProgress">{(args) => <RadialProgress {...args} />}</Story>
</Canvas>

<Props story="RadialProgress" />

## Children

Optionally, children may be provided to be displayed in the center of the circle.
This is useful for conveying a textual description of progress, such as a percentage of X/Y ratio.

<Canvas>
  <Story name="Children" args={{ children: '75%', value: 75, size: 60 }}>
    {(args) => <RadialProgress {...args} />}
  </Story>
</Canvas>

## Animating

Given an initial value, end value, and duration, these will animate
smoothly upon being rendered.

Click on the `Animating` checkbox below to {action}.

<Canvas>
  <Story name="Animating" args={{ rendering: false, size: 96 }}>
    {(args) => {
      return (
        <>
          <RadialProgress {...args} value={0} />
          {args.rendering && (
            <>
              <RadialProgress {...args} value={[0, 25]} duration={1000} />
              <RadialProgress {...args} value={[25, 66]} duration={1000} />
              <RadialProgress {...args} value={[0, 90]} duration={1000} />
              <RadialProgress {...args} value={[80, 100]} duration={1000} />
              <RadialProgress {...args} value={[0, 100]} duration={3000} />
              <RadialProgress {...args} value={[0, 100]} duration={5000} />
            </>
          )}
        </>
      );
    }}
  </Story>
</Canvas>
