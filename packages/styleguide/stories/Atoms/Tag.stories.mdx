import { Box, FlexBox, Tag } from '@codecademy/gamut';
import title from '@codecademy/macros/lib/title.macro';
import { PropsTable } from '@codecademy/storybook-addon-variance';
import { Canvas, Meta, Story } from '@storybook/addon-docs/blocks';

import { TagExample } from './Tag.examples.tsx';

<Meta
  title={title}
  component={Tag}
  parameters={{
    subtitle:
      'Compact, dynamic elements that support user inputs, selections, and actions.',
    source: 'gamut',
    status: 'current',
    design: {
      type: 'figma',
      url:
        'https://www.figma.com/file/ReGfRNillGABAj5SlITalN/%F0%9F%93%90-Gamut?node-id=46539-40954',
    },
  }}
  args={{ children: 'Tag' }}
/>

## Usage Guidelines

Tags are compact, dynamic elements that support user inputs, selections, and actions. Tags can either be dismissable individually, or read-only when paired with other controls. Use Tags in designs like Filters.

## Variants

Tags have `default` and `gray` color variants that work in color mode. You can also omit the dimiss button by passing in the `readonly` prop.

<Canvas>
  <Story name="Tag Variants">
    {(args) => (
      <FlexBox center justifyContent="space-around">
        <Tag {...args} onDismiss={(e) => e.target.blur()} />
        <Tag {...args} onDismiss={(e) => e.target.blur()} variant="grey" />
        <Tag {...args} readonly />
        <Tag {...args} readonly variant="grey" />
      </FlexBox>
    )}
  </Story>
</Canvas>

## Truncated Tags

When tag content exceeds the width of its container, it is truncated.

<Canvas>
  <Story name="Truncated Tags">
    {() => (
      <Box width="12rem">
        <Tag>I am long tag yes I am much am a very long tag</Tag>
      </Box>
    )}
  </Story>
</Canvas>

## Dismissable Tags Example

<Canvas>
  <Story name="Working Example">{() => <TagExample />}</Story>
</Canvas>

## Code Playground

<Canvas>
  <Story name="Tag">{(args) => <Tag {...args} />}</Story>
</Canvas>

<PropsTable story="Tag" />
