import { FormGroup, Input } from '@codecademy/gamut';
import title from '@codecademy/macros/lib/title.macro';
import { Canvas, Meta, Story } from '@storybook/addon-docs/dist/blocks';

import { PropsTable } from '~styleguide/blocks';

<Meta
  title={title}
  component={FormGroup}
  parameters={{
    subtitle:
      'A label and description wrapper for a form element that provides conditional styling',
    source: 'gamut',
    status: 'stable',
  }}
  args={{
    label: "Don't you label me!",
    description: 'This is a form group, it is pretty darn cool',
  }}
/>

<Canvas>
  <Story name="FormGroup">{(args) => <FormGroup {...args} />}</Story>
</Canvas>

<PropsTable story="FormGroup" />

### Form Group States

<Canvas>
  <Story name="FormGroupRequired">
    {(args) => (
      <FormGroup
        required
        label="I am required!!"
        description="You can tell by the asterisk."
      >
        <Input />
      </FormGroup>
    )}
  </Story>
  <Story name="FormGroupError">
    {(args) => (
      <FormGroup
        required
        label="I am also required!!"
        description="You can tell by the asterisk."
        error="You messed up dude."
      >
        <Input defaultValue=">_>" error />
      </FormGroup>
    )}
  </Story>
  <Story name="FormGroupValidated">
    {(args) => (
      <FormGroup label="I am also required!!" required>
        <Input defaultValue="Good job!" valid />
      </FormGroup>
    )}
  </Story>
</Canvas>

### Form Group with tooltip

A field can now include [our existing `ToolTip`](/?path=/docs/atoms-tooltip--tool-tip). The position of the tooltip on each field is always set to the bottom-right. You also have the option to render each tooltip in dark or light mode. The id of the tooltip is automtaically generated to be the id or name of the field with `-tooltip`.

<Canvas>
  <Story name="FormGroupTooltip">
    {(args) => (
      <FormGroup
        label="light mode"
        tooltip={{
          children:
            'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.',
        }}
      >
        <Input defaultValue="Good job!" valid />
      </FormGroup>
    )}
  </Story>
  <Story name="FormGroupTooltipDark">
    {(args) => (
      <FormGroup
        label="dark mode"
        tooltip={{
          mode: 'dark',
          children:
            'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.',
        }}
      >
        <Input />
      </FormGroup>
    )}
  </Story>
</Canvas>
