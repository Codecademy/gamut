import { FormGroup, Input } from '@codecademy/gamut';
import title from '@codecademy/macros/lib/title.macro';
import { Canvas, Meta, Story } from '@storybook/addon-docs/dist/blocks';

import { PropsTable } from '~styleguide/blocks';

<Meta
  title={title}
  component={FormGroup}
  parameters={{
    subtitle:
      'A label and description wrapper for a form element that provides conditional styling',
    source: 'gamut',
    status: 'stable',
  }}
  args={{
    label: "Don't you label me!",
    description: 'This is a form group, it is pretty darn cool',
  }}
/>

<Canvas>
  <Story name="FormGroup">{(args) => <FormGroup {...args} />}</Story>
</Canvas>

<PropsTable story="FormGroup" />

### Form Group htmlFor

It is best to provide `htmlFor` to both the FormGroup + inner form element to make it super accessible. If this is not provided, the FormLabel will default to `<div>`. If an `htmlFor` is provided, it will be a `<label>`.

<Canvas>
  <Story name="FormGroupLabel">
    {(args) => (
      <FormGroup label="I am a label!!" htmlFor="example1">
        <Input htmlFor="example1" />
      </FormGroup>
    )}
  </Story>
  <Story name="FormGroupLabelDiv">
    {(args) => (
      <FormGroup label="I look like a label, but I'm actually a div...">
        <Input defaultValue="ðŸ˜”" />
      </FormGroup>
    )}
  </Story>
</Canvas>

### Form Group States

<Canvas>
  <Story name="FormGroupRequired">
    {(args) => (
      <FormGroup
        showRequired
        label="I am required!!"
        description="You can tell by the asterisk."
        htmlFor="required1"
      >
        <Input htmlFor="required1" />
      </FormGroup>
    )}
  </Story>
  <Story name="FormGroupError">
    {(args) => (
      <FormGroup
        showRequired
        label="I am also required!!"
        description="You can tell by the asterisk."
        error="You messed up dude."
        htmlFor="required-error"
      >
        <Input defaultValue=">_>" htmlFor="required-error" error />
      </FormGroup>
    )}
  </Story>
  <Story name="FormGroupValidated">
    {(args) => (
      <FormGroup
        showRequired
        label="I am also required!!"
        htmlFor="required-valid"
      >
        <Input defaultValue="Good job!" htmlFor="required-valid" valid />
      </FormGroup>
    )}
  </Story>
</Canvas>

### Form Group with tooltip

A field can include [our existing `ToolTip`](/?path=/docs/atoms-tooltip--tool-tip). The position of the tooltip on each field is always set to the bottom-right. You also have the option to render each tooltip in dark or light mode. The id of the tooltip is automatically generated to be the id or name of the field with `-tooltip`.

<Canvas>
  <Story name="FormGroupTooltip">
    {(args) => (
      <FormGroup
        label="light mode"
        tooltip={{
          children:
            'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.',
        }}
      >
        <Input defaultValue="Good job!" valid />
      </FormGroup>
    )}
  </Story>
  <Story name="FormGroupTooltipDark">
    {(args) => (
      <FormGroup
        label="dark mode"
        tooltip={{
          mode: 'dark',
          children:
            'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.',
        }}
      >
        <Input />
      </FormGroup>
    )}
  </Story>
</Canvas>
