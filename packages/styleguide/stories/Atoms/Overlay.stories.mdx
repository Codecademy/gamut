import { Meta, Props, Preview, Story } from '@storybook/addon-docs/dist/blocks';
import { StoryStatus } from '../Templating/Blocks';
import { withKnobs } from '@storybook/addon-knobs';
import { Overlay } from '@codecademy/gamut/src';
import { useState } from 'react';

<Meta title="Core|Atoms/Overlay" component={Overlay} decorators={[withKnobs]} />

# Overlay

<StoryStatus status="ready" />

Overlay primitives are controlled components that are told whether
they're open by their parent. They're very basic and
don't have animations defined.

Unlike the legacy `Modal` implementations in the monolith, this: - always
assumes viewport is locked, by making content `position: fixed` - cannot override
contentProps, animation, or shouldFocusOnMount

Use this overlay only for actual 'overlay' content that takes
up the full screen. Do not use it for dropdowns or other small
interactive items.

Note that this atom does not come with styles defined. If you need styles such as
a background behind content, see `Modal`.

<Preview>
  <Story name="Overlay" parameters={{ storyshots: { disable: true } }}>
    {() => {
      const [open, setOpen] = useState(false);
      return (
        <>
          <button onClick={() => setOpen(true)} type="button">
            Open overlay
          </button>
          <OverlayEnhanced clickOutsideDeactivates isOpen={open}>
            <div>
              <h1>Hooray!</h1>
              <button type="button" onClick={() => setOpen(false)}>
                Close overlay
              </button>
            </div>
          </OverlayEnhanced>
        </>
      );
    }}
  </Story>
</Preview>

<Props of={Overlay} />
