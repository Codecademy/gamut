import { Meta, Props, Preview, Story } from '@storybook/addon-docs/dist/blocks';
import { StoryStatus } from '../../Templating/Blocks';
import { LayoutGrid, Column } from '@codecademy/gamut/src';
import * as icons from '@codecademy/gamut-icons';
import { number, select, withKnobs } from '@storybook/addon-knobs';
import { selectableColors } from '../../helpers';

import styles from './styles.module.scss';

<Meta title="Core|Atoms/Icons" decorators={[withKnobs]} />

# Icons

<StoryStatus status="ready" />

<Preview>
  <Story name="All Icons">
    <LayoutGrid columnGap="sm" rowGap="sm">
      {Object.entries(icons).map(([iconName, Icon]) => (
        <Column size={2} className={styles.iconWrapper} key={iconName}>
          <Icon
            key={iconName}
            size={number('Size', 64)}
            color={select('Color', selectableColors, selectableColors.black)}
          />
          <span className={styles.iconLabel}>{iconName}</span>
        </Column>
      ))}
    </LayoutGrid>
  </Story>
</Preview>

## Editable Icon

<Preview>
  <Story name="Editable Icon">
    {() => {
      const iconName = select(
        'Icon Name',
        Object.keys(icons),
        Object.keys(icons)[0]
      );
      const IconComponent = icons[iconName];
      return (
        <IconComponent
          size={number('size', 40)}
          style={{
            color: select('color', selectableColors, 'black'),
            backgroundColor: select(
              'backgroundColor',
              selectableColors,
              'white'
            ),
          }}
        />
      );
    }}
  </Story>
</Preview>
