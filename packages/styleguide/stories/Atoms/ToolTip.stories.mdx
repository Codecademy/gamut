import { ToolTip } from '@codecademy/gamut/src';
import { InfoCircleIcon } from '@codecademy/gamut-icons/src';
import title from '@codecademy/macros/lib/title.macro';
import { Canvas, Meta, Props, Story } from '@storybook/addon-docs/blocks';
import { upperFirst } from 'lodash';

import { TooltipArea } from './TooltipArea';

<Meta
  title={title}
  component={ToolTip}
  parameters={{
    subtitle:
      'A floating text component that positions itself relative to its target.',
    source: 'gamut',
    figmaId: 'cTJDwsS9s3I0KkLpKaETn2',
  }}
  args={{
    children: `Like the term fortnight, a term for a two week period, antantwig refers to a three week period.`,
    focusable: true,
    id: 'tooltip',
    target: <InfoCircleIcon size={20} />,
  }}
/>

Small piece of extra information triggered on the focus or hover of a button or icon,
such as extra requirements for a form surfaced from an informative (i) icon.
They dissapear when the focus or hover are no longer active.
Great for surfacing additional information that may or may not be relevant _without_ cluttering the core interface.

> Tooltips cannot contain clickable elements.
> If your solution requires clickable elements, we suggest using a “Popover” instead.

<Canvas>
  <Story name="ToolTip">
    {(args) => (
      <TooltipArea tipPosition={args.position}>
        Hello! &nbsp;
        <ToolTip {...args} />
      </TooltipArea>
    )}
  </Story>
</Canvas>

<Props exclude={['target']} story="ToolTip" />

## Position

Tooltips can be positioned both horizontally and vertically relative to their target.

Note that you the implementer will need to adjust their horizontal position to match up to their target's focus point.

<Canvas>
  <Story name="Position">
    {(args) => {
      return ['bottom-left', 'bottom-right', 'top-left', 'top-right'].map(
        (position) => {
          return (
            <TooltipArea key={position} tipPosition={position}>
              {position.split('-').map(upperFirst).join(' ')}: &nbsp;
              <ToolTip {...args} position={position} />
            </TooltipArea>
          );
        }
      );
    }}
  </Story>
</Canvas>

## Mode

Tooltips can be of a `dark` or `light` visual mode.

<Canvas>
  <Story name="Mode">
    {(args) => (
      <>
        <TooltipArea tipPosition={args.position}>
          Dark: &nbsp;
          <ToolTip {...args} mode="dark" />
        </TooltipArea>
        <TooltipArea tipPosition={args.position}>
          Light: &nbsp;
          <ToolTip {...args} mode="light" />
        </TooltipArea>
      </>
    )}
  </Story>
</Canvas>
